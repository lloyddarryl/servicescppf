{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\invite\\\\Documents\\\\servicescppf\\\\frontend\\\\src\\\\pages\\\\rendez_vous\\\\PriseRendezVous.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Header from '../../components/Header';\nimport { rendezVousService } from '../../services/rendezVousService';\nimport './PriseRendezVous.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PriseRendezVous = () => {\n  _s();\n  var _pageInfo$statistique, _pageInfo$motifs;\n  // États principaux\n  const [activeTab, setActiveTab] = useState('nouveau');\n  const [pageInfo, setPageInfo] = useState(null);\n  const [historique, setHistorique] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [notification, setNotification] = useState(null);\n\n  // États pour le formulaire\n  const [formData, setFormData] = useState({\n    date_demandee: '',\n    heure_demandee: '',\n    motif: '',\n    motif_autre: '',\n    commentaires: ''\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n  const [creneauxDisponibles, setCreneauxDisponibles] = useState([]);\n  const [loadingCreneaux, setLoadingCreneaux] = useState(false);\n\n  // États pour les filtres historique\n  const [filtres, setFiltres] = useState({\n    statut: '',\n    motif: ''\n  });\n\n  // États pour l'annulation\n  const [showAnnulationModal, setShowAnnulationModal] = useState(false);\n  const [demandeAAnnuler, setDemandeAAnnuler] = useState(null);\n  const [motifAnnulation, setMotifAnnulation] = useState('');\n  const [annulationEnCours, setAnnulationEnCours] = useState(false);\n\n  // Pagination\n  const [pagination, setPagination] = useState({\n    current_page: 1,\n    last_page: 1,\n    per_page: 10,\n    total: 0\n  });\n\n  // Fonction pour afficher les notifications\n  const afficherNotification = useCallback((message, type = 'info') => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification(null), 5000);\n  }, []);\n\n  // Fonction pour obtenir la civilité selon le sexe et situation matrimoniale\n  const getCivilite = user => {\n    var _user$sexe, _user$situation_matri;\n    if (!user) return '';\n    const sexe = (_user$sexe = user.sexe) === null || _user$sexe === void 0 ? void 0 : _user$sexe.toUpperCase();\n    const situationMatrimoniale = (_user$situation_matri = user.situation_matrimoniale) === null || _user$situation_matri === void 0 ? void 0 : _user$situation_matri.toLowerCase();\n    if (sexe === 'M' || sexe === 'MASCULIN') {\n      return 'M.';\n    } else if (sexe === 'F' || sexe === 'FEMININ') {\n      if (['mariee', 'marie', 'mariÉ', 'mariÉe'].includes(situationMatrimoniale)) {\n        return 'Mme';\n      } else {\n        return 'Mlle';\n      }\n    }\n    return '';\n  };\n\n  // Fonction pour obtenir l'identité complète avec civilité\n  const getIdentiteComplete = user => {\n    if (!user) return '';\n    const civilite = getCivilite(user);\n    const nomComplet = `${user.prenoms || ''} ${user.nom || ''}`.trim();\n    return civilite ? `${civilite} ${nomComplet}` : nomComplet;\n  };\n\n  // Charger les informations de la page\n  const chargerPageInfo = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await rendezVousService.getPageInfo();\n      if (response.data.success) {\n        setPageInfo(response.data);\n      } else {\n        throw new Error(response.data.message);\n      }\n    } catch (error) {\n      console.error('Erreur chargement page RDV:', error);\n      afficherNotification('Erreur lors du chargement de la page', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [afficherNotification]);\n\n  // Charger les créneaux disponibles pour une date\n  const chargerCreneaux = useCallback(async date => {\n    if (!date) {\n      setCreneauxDisponibles([]);\n      return;\n    }\n    try {\n      setLoadingCreneaux(true);\n      const response = await rendezVousService.getCreneauxDisponibles(date);\n      if (response.data.success) {\n        setCreneauxDisponibles(response.data.creneaux);\n      } else {\n        setCreneauxDisponibles([]);\n        afficherNotification('Aucun créneau disponible pour cette date', 'warning');\n      }\n    } catch (error) {\n      console.error('Erreur chargement créneaux:', error);\n      setCreneauxDisponibles([]);\n      afficherNotification('Erreur lors du chargement des créneaux', 'error');\n    } finally {\n      setLoadingCreneaux(false);\n    }\n  }, [afficherNotification]);\n\n  // Charger l'historique des demandes\n  const chargerHistorique = useCallback(async (page = 1) => {\n    try {\n      setLoading(true);\n      const cleanFilters = {};\n      if (filtres.statut && filtres.statut !== '' && filtres.statut !== 'tous') {\n        cleanFilters.statut = filtres.statut;\n      }\n      if (filtres.motif && filtres.motif !== '' && filtres.motif !== 'tous') {\n        cleanFilters.motif = filtres.motif;\n      }\n      const params = {\n        page: page.toString(),\n        ...cleanFilters\n      };\n      const response = await rendezVousService.getHistorique(params);\n      if (response.data.success) {\n        setHistorique(response.data.demandes || []);\n        if (response.data.pagination) {\n          setPagination(response.data.pagination);\n        }\n      } else {\n        throw new Error(response.data.message);\n      }\n    } catch (error) {\n      console.error('Erreur chargement historique:', error);\n      afficherNotification('Erreur lors du chargement de l\\'historique', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [filtres, afficherNotification]);\n\n  // Charger les données initiales\n  useEffect(() => {\n    chargerPageInfo();\n  }, [chargerPageInfo]);\n\n  // Charger l'historique quand les filtres changent\n  useEffect(() => {\n    if (activeTab === 'historique') {\n      chargerHistorique();\n    }\n  }, [chargerHistorique, activeTab]);\n\n  // Charger les créneaux quand la date change\n  useEffect(() => {\n    if (formData.date_demandee) {\n      chargerCreneaux(formData.date_demandee);\n    }\n  }, [formData.date_demandee, chargerCreneaux]);\n\n  // Gestion des changements du formulaire\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Effacer les erreurs au fur et à mesure\n    if (formErrors[name]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n\n    // Réinitialiser l'heure si la date change\n    if (name === 'date_demandee' && formData.heure_demandee) {\n      setFormData(prev => ({\n        ...prev,\n        heure_demandee: ''\n      }));\n    }\n  };\n\n  // Soumission du formulaire\n  const soumettreFormulaire = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    setFormErrors({});\n    try {\n      // Validation côté client\n      const validation = rendezVousService.utils.validerFormulaire(formData);\n      if (!validation.isValid) {\n        setFormErrors(validation.errors);\n        setSubmitting(false);\n        return;\n      }\n      const response = await rendezVousService.creerDemande(formData);\n      if (response.data.success) {\n        afficherNotification(response.data.message, 'success');\n\n        // Réinitialiser le formulaire\n        setFormData({\n          date_demandee: '',\n          heure_demandee: '',\n          motif: '',\n          motif_autre: '',\n          commentaires: ''\n        });\n        setCreneauxDisponibles([]);\n\n        // Recharger les informations de la page et basculer vers l'historique\n        await chargerPageInfo();\n        setActiveTab('historique');\n      } else {\n        if (response.data.errors) {\n          setFormErrors(response.data.errors);\n        } else {\n          throw new Error(response.data.message);\n        }\n      }\n    } catch (error) {\n      console.error('Erreur soumission:', error);\n      afficherNotification(`Erreur lors de la soumission: ${error.message}`, 'error');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Confirmer l'annulation\n  const confirmerAnnulation = demande => {\n    setDemandeAAnnuler(demande);\n    setShowAnnulationModal(true);\n    setMotifAnnulation('');\n  };\n\n  // Exécuter l'annulation\n  const executerAnnulation = async () => {\n    if (!demandeAAnnuler) return;\n    setAnnulationEnCours(true);\n    try {\n      const response = await rendezVousService.annuler(demandeAAnnuler.id, motifAnnulation);\n      if (response.data.success) {\n        afficherNotification(response.data.message, 'success');\n\n        // Fermer le modal\n        setShowAnnulationModal(false);\n        setDemandeAAnnuler(null);\n        setMotifAnnulation('');\n\n        // Recharger l'historique et les infos de page\n        await chargerHistorique();\n        await chargerPageInfo();\n      } else {\n        throw new Error(response.data.message);\n      }\n    } catch (error) {\n      console.error('Erreur annulation:', error);\n      afficherNotification(`Erreur lors de l'annulation: ${error.message}`, 'error');\n    } finally {\n      setAnnulationEnCours(false);\n    }\n  };\n\n  // Obtenir la date minimale (48h à l'avance)\n  const getDateMin = () => {\n    const dans48h = new Date();\n    dans48h.setHours(dans48h.getHours() + 48);\n    return dans48h.toISOString().split('T')[0];\n  };\n\n  // Obtenir la date maximale (1 mois à l'avance)\n  const getDateMax = () => {\n    const dans1mois = new Date();\n    dans1mois.setMonth(dans1mois.getMonth() + 1);\n    return dans1mois.toISOString().split('T')[0];\n  };\n\n  // Vérifier si une date est un jour ouvrable\n  const estJourOuvrable = dateString => {\n    const date = new Date(dateString);\n    const jour = date.getDay();\n    return jour >= 1 && jour <= 5; // Lundi (1) à Vendredi (5)\n  };\n  if (loading && !pageInfo) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prise-rdv\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prise-rdv__loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prise-rdv__spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"prise-rdv\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `prise-rdv__notification prise-rdv__notification--${notification.type}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prise-rdv__notification-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"prise-rdv__notification-icon\",\n          children: notification.type === 'success' ? '✅' : notification.type === 'error' ? '❌' : notification.type === 'warning' ? '⚠️' : 'ℹ️'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"prise-rdv__notification-message\",\n          children: notification.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"prise-rdv__notification-close\",\n          onClick: () => setNotification(null),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"prise-rdv__main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prise-rdv__container\",\n        children: [(pageInfo === null || pageInfo === void 0 ? void 0 : pageInfo.user_info) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prise-rdv__welcome\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__welcome-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"prise-rdv__welcome-title\",\n              children: \"\\uD83D\\uDCC5 Prise de Rendez-vous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"prise-rdv__welcome-subtitle\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"prise-rdv__welcome-user\",\n                children: [\"\\uD83D\\uDC4B \", getIdentiteComplete(pageInfo.user_info)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"prise-rdv__welcome-badge\",\n                children: pageInfo.user_info.type_compte\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), \"Planifiez votre rendez-vous avec nos conseillers\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__welcome-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => window.location.href = '/dashboard',\n              className: \"prise-rdv__dashboard-btn\",\n              title: \"Retour au tableau de bord\",\n              children: \"\\u2190 Retour au tableau de bord\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), (pageInfo === null || pageInfo === void 0 ? void 0 : pageInfo.statistiques) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prise-rdv__stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-icon\",\n              children: \"\\uD83D\\uDCCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-value\",\n                children: pageInfo.statistiques.total_demandes || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-label\",\n                children: \"Total demandes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-icon\",\n              children: \"\\u23F3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-value\",\n                children: pageInfo.statistiques.en_attente || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-label\",\n                children: \"En attente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-icon\",\n              children: \"\\u2705\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-value\",\n                children: pageInfo.statistiques.acceptees || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-label\",\n                children: \"Accept\\xE9s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-icon\",\n              children: \"\\uD83D\\uDCC5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__stat-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-value\",\n                children: pageInfo.statistiques.ce_mois || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__stat-label\",\n                children: \"Ce mois\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), (pageInfo === null || pageInfo === void 0 ? void 0 : pageInfo.prochains_rdv) && pageInfo.prochains_rdv.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prise-rdv__prochains\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"prise-rdv__section-title\",\n            children: \"\\uD83D\\uDDD3\\uFE0F Vos prochains rendez-vous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__prochains-list\",\n            children: pageInfo.prochains_rdv.map(rdv => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__prochain-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__prochain-icon\",\n                children: rendezVousService.utils.getIconeMotif(rdv.motif)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__prochain-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"prise-rdv__prochain-motif\",\n                  children: rdv.motif_complet\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"prise-rdv__prochain-date\",\n                  children: new Date(rdv.date_rdv_confirme).toLocaleDateString('fr-FR', {\n                    weekday: 'long',\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 23\n                }, this), rdv.lieu_rdv && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"prise-rdv__prochain-lieu\",\n                  children: [\"\\uD83D\\uDCCD \", rdv.lieu_rdv]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__prochain-delai\",\n                children: rendezVousService.utils.getDelaiRendezVous(rdv.date_rdv_confirme)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 21\n              }, this)]\n            }, rdv.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prise-rdv__tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `prise-rdv__tab ${activeTab === 'nouveau' ? 'prise-rdv__tab--active' : ''}`,\n            onClick: () => setActiveTab('nouveau'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"prise-rdv__tab-icon\",\n              children: \"\\u2795\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this), \"Nouveau rendez-vous\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `prise-rdv__tab ${activeTab === 'historique' ? 'prise-rdv__tab--active' : ''}`,\n            onClick: () => setActiveTab('historique'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"prise-rdv__tab-icon\",\n              children: \"\\uD83D\\uDCCB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 15\n            }, this), \"Mes demandes (\", (pageInfo === null || pageInfo === void 0 ? void 0 : (_pageInfo$statistique = pageInfo.statistiques) === null || _pageInfo$statistique === void 0 ? void 0 : _pageInfo$statistique.total_demandes) || 0, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prise-rdv__content\",\n          children: [activeTab === 'nouveau' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__nouveau\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__form-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"prise-rdv__form-title\",\n                children: \"\\uD83D\\uDCC5 Demander un nouveau rendez-vous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"prise-rdv__form-description\",\n                children: \"Choisissez une date et heure qui vous conviennent. Cr\\xE9neaux disponibles du lundi au vendredi de 9h \\xE0 16h.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: soumettreFormulaire,\n              className: \"prise-rdv__form\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__label\",\n                  children: \"Date souhait\\xE9e *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"date_demandee\",\n                  value: formData.date_demandee,\n                  onChange: handleInputChange,\n                  min: getDateMin(),\n                  max: getDateMax(),\n                  className: `prise-rdv__input ${formErrors.date_demandee ? 'prise-rdv__input--error' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 21\n                }, this), formErrors.date_demandee && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prise-rdv__error\",\n                  children: formErrors.date_demandee\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 23\n                }, this), formData.date_demandee && !estJourOuvrable(formData.date_demandee) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prise-rdv__warning\",\n                  children: \"\\u26A0\\uFE0F Les rendez-vous ne sont disponibles que du lundi au vendredi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__label\",\n                  children: [\"Heure souhait\\xE9e *\", loadingCreneaux && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"prise-rdv__loading-text\",\n                    children: \"Chargement des cr\\xE9neaux...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"heure_demandee\",\n                  value: formData.heure_demandee,\n                  onChange: handleInputChange,\n                  disabled: !formData.date_demandee || !estJourOuvrable(formData.date_demandee) || loadingCreneaux,\n                  className: `prise-rdv__select ${formErrors.heure_demandee ? 'prise-rdv__select--error' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"S\\xE9lectionnez une heure\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 23\n                  }, this), creneauxDisponibles.map(creneau => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: creneau,\n                    children: [creneau.substring(0, 5), \" \"]\n                  }, creneau, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 21\n                }, this), formErrors.heure_demandee && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prise-rdv__error\",\n                  children: formErrors.heure_demandee\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 23\n                }, this), formData.date_demandee && estJourOuvrable(formData.date_demandee) && creneauxDisponibles.length === 0 && !loadingCreneaux && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prise-rdv__warning\",\n                  children: \"\\u26A0\\uFE0F Aucun cr\\xE9neau disponible pour cette date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__label\",\n                  children: \"Motif du rendez-vous *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"motif\",\n                  value: formData.motif,\n                  onChange: handleInputChange,\n                  className: `prise-rdv__select ${formErrors.motif ? 'prise-rdv__select--error' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"S\\xE9lectionnez un motif\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 23\n                  }, this), (pageInfo === null || pageInfo === void 0 ? void 0 : pageInfo.motifs) && Object.entries(pageInfo.motifs).map(([key, motif]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: key,\n                    children: [motif.icon, \" \", motif.nom]\n                  }, key, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 21\n                }, this), formErrors.motif && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prise-rdv__error\",\n                  children: formErrors.motif\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 23\n                }, this), formData.motif && (pageInfo === null || pageInfo === void 0 ? void 0 : (_pageInfo$motifs = pageInfo.motifs) === null || _pageInfo$motifs === void 0 ? void 0 : _pageInfo$motifs[formData.motif]) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prise-rdv__motif-info\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"prise-rdv__motif-description\",\n                    children: pageInfo.motifs[formData.motif].description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this), formData.motif === 'autre' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__label\",\n                  children: \"Pr\\xE9cisez votre motif *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"motif_autre\",\n                  value: formData.motif_autre,\n                  onChange: handleInputChange,\n                  className: `prise-rdv__input ${formErrors.motif_autre ? 'prise-rdv__input--error' : ''}`,\n                  placeholder: \"D\\xE9crivez bri\\xE8vement votre demande...\",\n                  maxLength: 255\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 23\n                }, this), formErrors.motif_autre && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prise-rdv__error\",\n                  children: formErrors.motif_autre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__label\",\n                  children: [\"Commentaires suppl\\xE9mentaires\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"prise-rdv__char-count\",\n                    children: [formData.commentaires.length, \"/1000\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 590,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  name: \"commentaires\",\n                  value: formData.commentaires,\n                  onChange: handleInputChange,\n                  className: `prise-rdv__textarea ${formErrors.commentaires ? 'prise-rdv__textarea--error' : ''}`,\n                  placeholder: \"Ajoutez des informations compl\\xE9mentaires si n\\xE9cessaire...\",\n                  rows: 4,\n                  maxLength: 1000\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 21\n                }, this), formErrors.commentaires && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"prise-rdv__error\",\n                  children: formErrors.commentaires\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__form-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: submitting || !formData.date_demandee || !formData.heure_demandee || !formData.motif,\n                  className: `prise-rdv__submit-btn ${submitting ? 'prise-rdv__submit-btn--loading' : ''}`,\n                  children: submitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"prise-rdv__spinner\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 617,\n                      columnNumber: 27\n                    }, this), \"Soumission...\"]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"prise-rdv__submit-icon\",\n                      children: \"\\uD83D\\uDCE4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 622,\n                      columnNumber: 27\n                    }, this), \"Soumettre la demande\"]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), activeTab === 'historique' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__historique\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__filtres\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__filtre-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__filtre-label\",\n                  children: \"Statut:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: filtres.statut,\n                  onChange: e => setFiltres(prev => ({\n                    ...prev,\n                    statut: e.target.value\n                  })),\n                  className: \"prise-rdv__filtre-select\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Tous\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 645,\n                    columnNumber: 23\n                  }, this), (pageInfo === null || pageInfo === void 0 ? void 0 : pageInfo.statuts) && Object.entries(pageInfo.statuts).map(([key, statut]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: key,\n                    children: statut.nom\n                  }, key, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__filtre-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__filtre-label\",\n                  children: \"Motif:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: filtres.motif,\n                  onChange: e => setFiltres(prev => ({\n                    ...prev,\n                    motif: e.target.value\n                  })),\n                  className: \"prise-rdv__filtre-select\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Tous\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 659,\n                    columnNumber: 23\n                  }, this), (pageInfo === null || pageInfo === void 0 ? void 0 : pageInfo.motifs) && Object.entries(pageInfo.motifs).map(([key, motif]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: key,\n                    children: motif.nom\n                  }, key, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 661,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => chargerHistorique(),\n                className: \"prise-rdv__refresh-btn\",\n                disabled: loading,\n                children: \"\\uD83D\\uDD04 Actualiser\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__loading\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Chargement de l'historique...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 19\n            }, this) : historique.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__empty\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__empty-icon\",\n                children: \"\\uD83D\\uDCC5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Aucune demande de rendez-vous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Vous n'avez pas encore fait de demande de rendez-vous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab('nouveau'),\n                className: \"prise-rdv__empty-btn\",\n                children: \"Faire une demande\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__liste\",\n              children: [historique.map(demande => {\n                var _demande$statut_info, _demande$statut_info2;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prise-rdv__card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prise-rdv__card-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"prise-rdv__card-info\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"prise-rdv__card-title\",\n                        children: [rendezVousService.utils.getIconeMotif(demande.motif), \" \", demande.motif_complet]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 701,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"prise-rdv__card-numero\",\n                        children: [\"N\\xB0 \", demande.numero_demande]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 704,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 700,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"prise-rdv__card-badges\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"prise-rdv__statut-badge\",\n                        style: {\n                          backgroundColor: rendezVousService.utils.getCouleurStatut(demande.statut)\n                        },\n                        children: [(_demande$statut_info = demande.statut_info) === null || _demande$statut_info === void 0 ? void 0 : _demande$statut_info.icon, \" \", (_demande$statut_info2 = demande.statut_info) === null || _demande$statut_info2 === void 0 ? void 0 : _demande$statut_info2.nom]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 709,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 708,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 699,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prise-rdv__card-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"prise-rdv__card-details\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prise-rdv__card-detail\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"prise-rdv__detail-label\",\n                          children: \"Date demand\\xE9e:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 722,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"prise-rdv__detail-value\",\n                          children: demande.date_heure_formatee\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 723,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 721,\n                        columnNumber: 29\n                      }, this), demande.date_rdv_confirme && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prise-rdv__card-detail prise-rdv__card-detail--confirmed\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"prise-rdv__detail-label\",\n                          children: \"\\u2705 Date confirm\\xE9e:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 728,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"prise-rdv__detail-value\",\n                          children: demande.date_rdv_confirme\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 729,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 727,\n                        columnNumber: 31\n                      }, this), demande.lieu_rdv && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"prise-rdv__card-detail\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"prise-rdv__detail-label\",\n                          children: \"\\uD83D\\uDCCD Lieu:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 735,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"prise-rdv__detail-value\",\n                          children: demande.lieu_rdv\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 736,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 734,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 720,\n                      columnNumber: 27\n                    }, this), demande.commentaires && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"prise-rdv__card-commentaires\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Commentaires:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 743,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: demande.commentaires.length > 100 ? `${demande.commentaires.substring(0, 100)}...` : demande.commentaires\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 744,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 742,\n                      columnNumber: 29\n                    }, this), demande.reponse_admin && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"prise-rdv__card-reponse\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\uD83D\\uDCAC R\\xE9ponse de l'administration:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 753,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: demande.reponse_admin\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 754,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 752,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 719,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"prise-rdv__card-footer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"prise-rdv__card-meta\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"prise-rdv__card-date\",\n                        children: [\"Demand\\xE9 le \", demande.date_soumission]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 762,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"prise-rdv__card-temps\",\n                        children: demande.temps_ecoule\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 765,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 761,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"prise-rdv__card-actions\",\n                      children: demande.peut_modifier && /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => confirmerAnnulation(demande),\n                        className: \"prise-rdv__annuler-btn\",\n                        title: \"Annuler cette demande\",\n                        children: \"\\uD83D\\uDEAB Annuler\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 772,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 770,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 760,\n                    columnNumber: 25\n                  }, this)]\n                }, demande.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 23\n                }, this);\n              }), pagination.last_page > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__pagination\",\n                children: Array.from({\n                  length: pagination.last_page\n                }, (_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => chargerHistorique(i + 1),\n                  className: `prise-rdv__page-btn ${pagination.current_page === i + 1 ? 'prise-rdv__page-btn--active' : ''}`,\n                  children: i + 1\n                }, i + 1, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this), showAnnulationModal && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prise-rdv__modal-overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prise-rdv__modal\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"prise-rdv__modal-title\",\n                children: \"\\uD83D\\uDEAB Confirmer l'annulation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"prise-rdv__modal-close\",\n                onClick: () => setShowAnnulationModal(false),\n                disabled: annulationEnCours,\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__modal-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"prise-rdv__modal-warning\",\n                children: [\"\\xCAtes-vous s\\xFBr de vouloir annuler votre demande de rendez-vous\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\" N\\xB0 \", demandeAAnnuler === null || demandeAAnnuler === void 0 ? void 0 : demandeAAnnuler.numero_demande]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 21\n                }, this), \" ?\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__modal-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Motif :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 831,\n                    columnNumber: 24\n                  }, this), \" \", demandeAAnnuler === null || demandeAAnnuler === void 0 ? void 0 : demandeAAnnuler.motif_complet]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Date demand\\xE9e :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 832,\n                    columnNumber: 24\n                  }, this), \" \", demandeAAnnuler === null || demandeAAnnuler === void 0 ? void 0 : demandeAAnnuler.date_heure_formatee]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"prise-rdv__label\",\n                  children: \"Motif d'annulation (optionnel)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: motifAnnulation,\n                  onChange: e => setMotifAnnulation(e.target.value),\n                  className: \"prise-rdv__textarea\",\n                  placeholder: \"Expliquez pourquoi vous annulez cette demande...\",\n                  rows: 3,\n                  maxLength: 500,\n                  disabled: annulationEnCours\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prise-rdv__char-count\",\n                  children: [motifAnnulation.length, \"/500\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 848,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prise-rdv__modal-warning-text\",\n                children: \"\\u26A0\\uFE0F Cette action est irr\\xE9versible. Une notification sera envoy\\xE9e \\xE0 l'administration.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prise-rdv__modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"prise-rdv__modal-btn prise-rdv__modal-btn--secondary\",\n                onClick: () => setShowAnnulationModal(false),\n                disabled: annulationEnCours,\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"prise-rdv__modal-btn prise-rdv__modal-btn--danger\",\n                onClick: executerAnnulation,\n                disabled: annulationEnCours,\n                children: annulationEnCours ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"prise-rdv__spinner\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 873,\n                    columnNumber: 25\n                  }, this), \"Annulation...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: \"\\uD83D\\uDEAB Confirmer l'annulation\"\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 809,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 320,\n    columnNumber: 5\n  }, this);\n};\n_s(PriseRendezVous, \"fEpkK1vyrIzv6exdAXcXKe47pW0=\");\n_c = PriseRendezVous;\nexport default PriseRendezVous;\nvar _c;\n$RefreshReg$(_c, \"PriseRendezVous\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Header","rendezVousService","jsxDEV","_jsxDEV","Fragment","_Fragment","PriseRendezVous","_s","_pageInfo$statistique","_pageInfo$motifs","activeTab","setActiveTab","pageInfo","setPageInfo","historique","setHistorique","loading","setLoading","notification","setNotification","formData","setFormData","date_demandee","heure_demandee","motif","motif_autre","commentaires","formErrors","setFormErrors","submitting","setSubmitting","creneauxDisponibles","setCreneauxDisponibles","loadingCreneaux","setLoadingCreneaux","filtres","setFiltres","statut","showAnnulationModal","setShowAnnulationModal","demandeAAnnuler","setDemandeAAnnuler","motifAnnulation","setMotifAnnulation","annulationEnCours","setAnnulationEnCours","pagination","setPagination","current_page","last_page","per_page","total","afficherNotification","message","type","setTimeout","getCivilite","user","_user$sexe","_user$situation_matri","sexe","toUpperCase","situationMatrimoniale","situation_matrimoniale","toLowerCase","includes","getIdentiteComplete","civilite","nomComplet","prenoms","nom","trim","chargerPageInfo","response","getPageInfo","data","success","Error","error","console","chargerCreneaux","date","getCreneauxDisponibles","creneaux","chargerHistorique","page","cleanFilters","params","toString","getHistorique","demandes","handleInputChange","e","name","value","target","prev","soumettreFormulaire","preventDefault","validation","utils","validerFormulaire","isValid","errors","creerDemande","confirmerAnnulation","demande","executerAnnulation","annuler","id","getDateMin","dans48h","Date","setHours","getHours","toISOString","split","getDateMax","dans1mois","setMonth","getMonth","estJourOuvrable","dateString","jour","getDay","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","user_info","type_compte","window","location","href","title","statistiques","total_demandes","en_attente","acceptees","ce_mois","prochains_rdv","length","map","rdv","getIconeMotif","motif_complet","date_rdv_confirme","toLocaleDateString","weekday","year","month","day","hour","minute","lieu_rdv","getDelaiRendezVous","onSubmit","onChange","min","max","disabled","creneau","substring","motifs","Object","entries","key","icon","description","placeholder","maxLength","rows","statuts","_demande$statut_info","_demande$statut_info2","numero_demande","style","backgroundColor","getCouleurStatut","statut_info","date_heure_formatee","reponse_admin","date_soumission","temps_ecoule","peut_modifier","Array","from","_","i","_c","$RefreshReg$"],"sources":["C:/Users/invite/Documents/servicescppf/frontend/src/pages/rendez_vous/PriseRendezVous.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport Header from '../../components/Header';\r\nimport { rendezVousService } from '../../services/rendezVousService';\r\nimport './PriseRendezVous.css';\r\n\r\nconst PriseRendezVous = () => {\r\n  // États principaux\r\n  const [activeTab, setActiveTab] = useState('nouveau');\r\n  const [pageInfo, setPageInfo] = useState(null);\r\n  const [historique, setHistorique] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  // États pour le formulaire\r\n  const [formData, setFormData] = useState({\r\n    date_demandee: '',\r\n    heure_demandee: '',\r\n    motif: '',\r\n    motif_autre: '',\r\n    commentaires: ''\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [creneauxDisponibles, setCreneauxDisponibles] = useState([]);\r\n  const [loadingCreneaux, setLoadingCreneaux] = useState(false);\r\n\r\n  // États pour les filtres historique\r\n  const [filtres, setFiltres] = useState({\r\n    statut: '',\r\n    motif: ''\r\n  });\r\n\r\n  // États pour l'annulation\r\n  const [showAnnulationModal, setShowAnnulationModal] = useState(false);\r\n  const [demandeAAnnuler, setDemandeAAnnuler] = useState(null);\r\n  const [motifAnnulation, setMotifAnnulation] = useState('');\r\n  const [annulationEnCours, setAnnulationEnCours] = useState(false);\r\n\r\n  // Pagination\r\n  const [pagination, setPagination] = useState({\r\n    current_page: 1,\r\n    last_page: 1,\r\n    per_page: 10,\r\n    total: 0\r\n  });\r\n\r\n  // Fonction pour afficher les notifications\r\n  const afficherNotification = useCallback((message, type = 'info') => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => setNotification(null), 5000);\r\n  }, []);\r\n\r\n  // Fonction pour obtenir la civilité selon le sexe et situation matrimoniale\r\n  const getCivilite = (user) => {\r\n    if (!user) return '';\r\n    \r\n    const sexe = user.sexe?.toUpperCase();\r\n    const situationMatrimoniale = user.situation_matrimoniale?.toLowerCase();\r\n    \r\n    if (sexe === 'M' || sexe === 'MASCULIN') {\r\n      return 'M.';\r\n    } \r\n    else if (sexe === 'F' || sexe === 'FEMININ') {\r\n      if (['mariee', 'marie', 'mariÉ', 'mariÉe'].includes(situationMatrimoniale)) {\r\n        return 'Mme';\r\n      } else {\r\n        return 'Mlle';\r\n      }\r\n    }\r\n    \r\n    return '';\r\n  };\r\n\r\n  // Fonction pour obtenir l'identité complète avec civilité\r\n  const getIdentiteComplete = (user) => {\r\n    if (!user) return '';\r\n    \r\n    const civilite = getCivilite(user);\r\n    const nomComplet = `${user.prenoms || ''} ${user.nom || ''}`.trim();\r\n    \r\n    return civilite ? `${civilite} ${nomComplet}` : nomComplet;\r\n  };\r\n\r\n  // Charger les informations de la page\r\n  const chargerPageInfo = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await rendezVousService.getPageInfo();\r\n      \r\n      if (response.data.success) {\r\n        setPageInfo(response.data);\r\n      } else {\r\n        throw new Error(response.data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur chargement page RDV:', error);\r\n      afficherNotification('Erreur lors du chargement de la page', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [afficherNotification]);\r\n\r\n  // Charger les créneaux disponibles pour une date\r\n  const chargerCreneaux = useCallback(async (date) => {\r\n    if (!date) {\r\n      setCreneauxDisponibles([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoadingCreneaux(true);\r\n      const response = await rendezVousService.getCreneauxDisponibles(date);\r\n      \r\n      if (response.data.success) {\r\n        setCreneauxDisponibles(response.data.creneaux);\r\n      } else {\r\n        setCreneauxDisponibles([]);\r\n        afficherNotification('Aucun créneau disponible pour cette date', 'warning');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur chargement créneaux:', error);\r\n      setCreneauxDisponibles([]);\r\n      afficherNotification('Erreur lors du chargement des créneaux', 'error');\r\n    } finally {\r\n      setLoadingCreneaux(false);\r\n    }\r\n  }, [afficherNotification]);\r\n\r\n  // Charger l'historique des demandes\r\n  const chargerHistorique = useCallback(async (page = 1) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const cleanFilters = {};\r\n      if (filtres.statut && filtres.statut !== '' && filtres.statut !== 'tous') {\r\n        cleanFilters.statut = filtres.statut;\r\n      }\r\n      if (filtres.motif && filtres.motif !== '' && filtres.motif !== 'tous') {\r\n        cleanFilters.motif = filtres.motif;\r\n      }\r\n\r\n      const params = {\r\n        page: page.toString(),\r\n        ...cleanFilters\r\n      };\r\n\r\n      const response = await rendezVousService.getHistorique(params);\r\n      \r\n      if (response.data.success) {\r\n        setHistorique(response.data.demandes || []);\r\n        if (response.data.pagination) {\r\n          setPagination(response.data.pagination);\r\n        }\r\n      } else {\r\n        throw new Error(response.data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur chargement historique:', error);\r\n      afficherNotification('Erreur lors du chargement de l\\'historique', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filtres, afficherNotification]);\r\n\r\n  // Charger les données initiales\r\n  useEffect(() => {\r\n    chargerPageInfo();\r\n  }, [chargerPageInfo]);\r\n\r\n  // Charger l'historique quand les filtres changent\r\n  useEffect(() => {\r\n    if (activeTab === 'historique') {\r\n      chargerHistorique();\r\n    }\r\n  }, [chargerHistorique, activeTab]);\r\n\r\n  // Charger les créneaux quand la date change\r\n  useEffect(() => {\r\n    if (formData.date_demandee) {\r\n      chargerCreneaux(formData.date_demandee);\r\n    }\r\n  }, [formData.date_demandee, chargerCreneaux]);\r\n\r\n  // Gestion des changements du formulaire\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    \r\n    // Effacer les erreurs au fur et à mesure\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({ ...prev, [name]: '' }));\r\n    }\r\n\r\n    // Réinitialiser l'heure si la date change\r\n    if (name === 'date_demandee' && formData.heure_demandee) {\r\n      setFormData(prev => ({ ...prev, heure_demandee: '' }));\r\n    }\r\n  };\r\n\r\n  // Soumission du formulaire\r\n  const soumettreFormulaire = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    setFormErrors({});\r\n\r\n    try {\r\n      // Validation côté client\r\n      const validation = rendezVousService.utils.validerFormulaire(formData);\r\n      if (!validation.isValid) {\r\n        setFormErrors(validation.errors);\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      const response = await rendezVousService.creerDemande(formData);\r\n      \r\n      if (response.data.success) {\r\n        afficherNotification(response.data.message, 'success');\r\n        \r\n        // Réinitialiser le formulaire\r\n        setFormData({\r\n          date_demandee: '',\r\n          heure_demandee: '',\r\n          motif: '',\r\n          motif_autre: '',\r\n          commentaires: ''\r\n        });\r\n        setCreneauxDisponibles([]);\r\n        \r\n        // Recharger les informations de la page et basculer vers l'historique\r\n        await chargerPageInfo();\r\n        setActiveTab('historique');\r\n      } else {\r\n        if (response.data.errors) {\r\n          setFormErrors(response.data.errors);\r\n        } else {\r\n          throw new Error(response.data.message);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur soumission:', error);\r\n      afficherNotification(`Erreur lors de la soumission: ${error.message}`, 'error');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Confirmer l'annulation\r\n  const confirmerAnnulation = (demande) => {\r\n    setDemandeAAnnuler(demande);\r\n    setShowAnnulationModal(true);\r\n    setMotifAnnulation('');\r\n  };\r\n\r\n  // Exécuter l'annulation\r\n  const executerAnnulation = async () => {\r\n    if (!demandeAAnnuler) return;\r\n    \r\n    setAnnulationEnCours(true);\r\n    \r\n    try {\r\n      const response = await rendezVousService.annuler(demandeAAnnuler.id, motifAnnulation);\r\n      \r\n      if (response.data.success) {\r\n        afficherNotification(response.data.message, 'success');\r\n        \r\n        // Fermer le modal\r\n        setShowAnnulationModal(false);\r\n        setDemandeAAnnuler(null);\r\n        setMotifAnnulation('');\r\n        \r\n        // Recharger l'historique et les infos de page\r\n        await chargerHistorique();\r\n        await chargerPageInfo();\r\n      } else {\r\n        throw new Error(response.data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur annulation:', error);\r\n      afficherNotification(`Erreur lors de l'annulation: ${error.message}`, 'error');\r\n    } finally {\r\n      setAnnulationEnCours(false);\r\n    }\r\n  };\r\n\r\n  // Obtenir la date minimale (48h à l'avance)\r\n  const getDateMin = () => {\r\n    const dans48h = new Date();\r\n    dans48h.setHours(dans48h.getHours() + 48);\r\n    return dans48h.toISOString().split('T')[0];\r\n  };\r\n\r\n  // Obtenir la date maximale (1 mois à l'avance)\r\n  const getDateMax = () => {\r\n    const dans1mois = new Date();\r\n    dans1mois.setMonth(dans1mois.getMonth() + 1);\r\n    return dans1mois.toISOString().split('T')[0];\r\n  };\r\n\r\n  // Vérifier si une date est un jour ouvrable\r\n  const estJourOuvrable = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const jour = date.getDay();\r\n    return jour >= 1 && jour <= 5; // Lundi (1) à Vendredi (5)\r\n  };\r\n\r\n  if (loading && !pageInfo) {\r\n    return (\r\n      <div className=\"prise-rdv\">\r\n        <Header />\r\n        <div className=\"prise-rdv__loading\">\r\n          <div className=\"prise-rdv__spinner\"></div>\r\n          <p>Chargement...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"prise-rdv\">\r\n      <Header />\r\n      \r\n      {/* Notification */}\r\n      {notification && (\r\n        <div className={`prise-rdv__notification prise-rdv__notification--${notification.type}`}>\r\n          <div className=\"prise-rdv__notification-content\">\r\n            <span className=\"prise-rdv__notification-icon\">\r\n              {notification.type === 'success' ? '✅' : notification.type === 'error' ? '❌' : notification.type === 'warning' ? '⚠️' : 'ℹ️'}\r\n            </span>\r\n            <span className=\"prise-rdv__notification-message\">\r\n              {notification.message}\r\n            </span>\r\n            <button \r\n              className=\"prise-rdv__notification-close\"\r\n              onClick={() => setNotification(null)}\r\n            >\r\n              ✕\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <main className=\"prise-rdv__main\">\r\n        <div className=\"prise-rdv__container\">\r\n          \r\n          {/* Section de bienvenue */}\r\n          {pageInfo?.user_info && (\r\n            <div className=\"prise-rdv__welcome\">\r\n              <div className=\"prise-rdv__welcome-content\">\r\n                <h1 className=\"prise-rdv__welcome-title\">\r\n                  📅 Prise de Rendez-vous\r\n                </h1>\r\n                <p className=\"prise-rdv__welcome-subtitle\">\r\n                  <span className=\"prise-rdv__welcome-user\">\r\n                    👋 {getIdentiteComplete(pageInfo.user_info)}\r\n                  </span>\r\n                  <span className=\"prise-rdv__welcome-badge\">\r\n                    {pageInfo.user_info.type_compte}\r\n                  </span>\r\n                  Planifiez votre rendez-vous avec nos conseillers\r\n                </p>\r\n              </div>\r\n              <div className=\"prise-rdv__welcome-actions\">\r\n                <button \r\n                  onClick={() => window.location.href = '/dashboard'}\r\n                  className=\"prise-rdv__dashboard-btn\"\r\n                  title=\"Retour au tableau de bord\"\r\n                >\r\n                  ← Retour au tableau de bord\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Statistiques */}\r\n          {pageInfo?.statistiques && (\r\n            <div className=\"prise-rdv__stats\">\r\n              <div className=\"prise-rdv__stat-card\">\r\n                <div className=\"prise-rdv__stat-icon\">📊</div>\r\n                <div className=\"prise-rdv__stat-content\">\r\n                  <div className=\"prise-rdv__stat-value\">{pageInfo.statistiques.total_demandes || 0}</div>\r\n                  <div className=\"prise-rdv__stat-label\">Total demandes</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"prise-rdv__stat-card\">\r\n                <div className=\"prise-rdv__stat-icon\">⏳</div>\r\n                <div className=\"prise-rdv__stat-content\">\r\n                  <div className=\"prise-rdv__stat-value\">{pageInfo.statistiques.en_attente || 0}</div>\r\n                  <div className=\"prise-rdv__stat-label\">En attente</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"prise-rdv__stat-card\">\r\n                <div className=\"prise-rdv__stat-icon\">✅</div>\r\n                <div className=\"prise-rdv__stat-content\">\r\n                  <div className=\"prise-rdv__stat-value\">{pageInfo.statistiques.acceptees || 0}</div>\r\n                  <div className=\"prise-rdv__stat-label\">Acceptés</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"prise-rdv__stat-card\">\r\n                <div className=\"prise-rdv__stat-icon\">📅</div>\r\n                <div className=\"prise-rdv__stat-content\">\r\n                  <div className=\"prise-rdv__stat-value\">{pageInfo.statistiques.ce_mois || 0}</div>\r\n                  <div className=\"prise-rdv__stat-label\">Ce mois</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Prochains RDV confirmés */}\r\n          {pageInfo?.prochains_rdv && pageInfo.prochains_rdv.length > 0 && (\r\n            <div className=\"prise-rdv__prochains\">\r\n              <h2 className=\"prise-rdv__section-title\">🗓️ Vos prochains rendez-vous</h2>\r\n              <div className=\"prise-rdv__prochains-list\">\r\n                {pageInfo.prochains_rdv.map(rdv => (\r\n                  <div key={rdv.id} className=\"prise-rdv__prochain-item\">\r\n                    <div className=\"prise-rdv__prochain-icon\">\r\n                      {rendezVousService.utils.getIconeMotif(rdv.motif)}\r\n                    </div>\r\n                    <div className=\"prise-rdv__prochain-content\">\r\n                      <h3 className=\"prise-rdv__prochain-motif\">{rdv.motif_complet}</h3>\r\n                      <p className=\"prise-rdv__prochain-date\">\r\n                        {new Date(rdv.date_rdv_confirme).toLocaleDateString('fr-FR', {\r\n                          weekday: 'long',\r\n                          year: 'numeric',\r\n                          month: 'long',\r\n                          day: 'numeric',\r\n                          hour: '2-digit',\r\n                          minute: '2-digit'\r\n                        })}\r\n                      </p>\r\n                      {rdv.lieu_rdv && (\r\n                        <p className=\"prise-rdv__prochain-lieu\">📍 {rdv.lieu_rdv}</p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"prise-rdv__prochain-delai\">\r\n                      {rendezVousService.utils.getDelaiRendezVous(rdv.date_rdv_confirme)}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Navigation par onglets */}\r\n          <div className=\"prise-rdv__tabs\">\r\n            <button \r\n              className={`prise-rdv__tab ${activeTab === 'nouveau' ? 'prise-rdv__tab--active' : ''}`}\r\n              onClick={() => setActiveTab('nouveau')}\r\n            >\r\n              <span className=\"prise-rdv__tab-icon\">➕</span>\r\n              Nouveau rendez-vous\r\n            </button>\r\n            <button \r\n              className={`prise-rdv__tab ${activeTab === 'historique' ? 'prise-rdv__tab--active' : ''}`}\r\n              onClick={() => setActiveTab('historique')}\r\n            >\r\n              <span className=\"prise-rdv__tab-icon\">📋</span>\r\n              Mes demandes ({pageInfo?.statistiques?.total_demandes || 0})\r\n            </button>\r\n          </div>\r\n\r\n          {/* Contenu des onglets */}\r\n          <div className=\"prise-rdv__content\">\r\n            \r\n            {/* Formulaire nouveau rendez-vous */}\r\n            {activeTab === 'nouveau' && (\r\n              <div className=\"prise-rdv__nouveau\">\r\n                <div className=\"prise-rdv__form-header\">\r\n                  <h2 className=\"prise-rdv__form-title\">📅 Demander un nouveau rendez-vous</h2>\r\n                  <p className=\"prise-rdv__form-description\">\r\n                    Choisissez une date et heure qui vous conviennent. Créneaux disponibles du lundi au vendredi de 9h à 16h.\r\n                  </p>\r\n                </div>\r\n\r\n                <form onSubmit={soumettreFormulaire} className=\"prise-rdv__form\">\r\n                  \r\n                  {/* Date souhaitée */}\r\n                  <div className=\"prise-rdv__form-group\">\r\n                    <label className=\"prise-rdv__label\">\r\n                      Date souhaitée *\r\n                    </label>\r\n                    <input \r\n                      type=\"date\"\r\n                      name=\"date_demandee\"\r\n                      value={formData.date_demandee}\r\n                      onChange={handleInputChange}\r\n                      min={getDateMin()}\r\n                      max={getDateMax()}\r\n                      className={`prise-rdv__input ${formErrors.date_demandee ? 'prise-rdv__input--error' : ''}`}\r\n                    />\r\n                    {formErrors.date_demandee && (\r\n                      <span className=\"prise-rdv__error\">{formErrors.date_demandee}</span>\r\n                    )}\r\n                    {formData.date_demandee && !estJourOuvrable(formData.date_demandee) && (\r\n                      <span className=\"prise-rdv__warning\">\r\n                        ⚠️ Les rendez-vous ne sont disponibles que du lundi au vendredi\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Heure souhaitée */}\r\n                  <div className=\"prise-rdv__form-group\">\r\n                    <label className=\"prise-rdv__label\">\r\n                      Heure souhaitée *\r\n                      {loadingCreneaux && (\r\n                        <span className=\"prise-rdv__loading-text\">Chargement des créneaux...</span>\r\n                      )}\r\n                    </label>\r\n                    <select \r\n                      name=\"heure_demandee\"\r\n                      value={formData.heure_demandee}\r\n                      onChange={handleInputChange}\r\n                      disabled={!formData.date_demandee || !estJourOuvrable(formData.date_demandee) || loadingCreneaux}\r\n                      className={`prise-rdv__select ${formErrors.heure_demandee ? 'prise-rdv__select--error' : ''}`}\r\n                    >\r\n                      <option value=\"\">Sélectionnez une heure</option>\r\n                      {creneauxDisponibles.map(creneau => (\r\n                        <option key={creneau} value={creneau}>\r\n                          {creneau.substring(0, 5)} {/* HH:MM */}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {formErrors.heure_demandee && (\r\n                      <span className=\"prise-rdv__error\">{formErrors.heure_demandee}</span>\r\n                    )}\r\n                    {formData.date_demandee && estJourOuvrable(formData.date_demandee) && creneauxDisponibles.length === 0 && !loadingCreneaux && (\r\n                      <span className=\"prise-rdv__warning\">\r\n                        ⚠️ Aucun créneau disponible pour cette date\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Motif du rendez-vous */}\r\n                  <div className=\"prise-rdv__form-group\">\r\n                    <label className=\"prise-rdv__label\">\r\n                      Motif du rendez-vous *\r\n                    </label>\r\n                    <select \r\n                      name=\"motif\"\r\n                      value={formData.motif}\r\n                      onChange={handleInputChange}\r\n                      className={`prise-rdv__select ${formErrors.motif ? 'prise-rdv__select--error' : ''}`}\r\n                    >\r\n                      <option value=\"\">Sélectionnez un motif</option>\r\n                      {pageInfo?.motifs && Object.entries(pageInfo.motifs).map(([key, motif]) => (\r\n                        <option key={key} value={key}>\r\n                          {motif.icon} {motif.nom}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {formErrors.motif && (\r\n                      <span className=\"prise-rdv__error\">{formErrors.motif}</span>\r\n                    )}\r\n                    \r\n                    {/* Description du motif sélectionné */}\r\n                    {formData.motif && pageInfo?.motifs?.[formData.motif] && (\r\n                      <div className=\"prise-rdv__motif-info\">\r\n                        <span className=\"prise-rdv__motif-description\">\r\n                          {pageInfo.motifs[formData.motif].description}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Motif autre (si sélectionné) */}\r\n                  {formData.motif === 'autre' && (\r\n                    <div className=\"prise-rdv__form-group\">\r\n                      <label className=\"prise-rdv__label\">\r\n                        Précisez votre motif *\r\n                      </label>\r\n                      <input \r\n                        type=\"text\"\r\n                        name=\"motif_autre\"\r\n                        value={formData.motif_autre}\r\n                        onChange={handleInputChange}\r\n                        className={`prise-rdv__input ${formErrors.motif_autre ? 'prise-rdv__input--error' : ''}`}\r\n                        placeholder=\"Décrivez brièvement votre demande...\"\r\n                        maxLength={255}\r\n                      />\r\n                      {formErrors.motif_autre && (\r\n                        <span className=\"prise-rdv__error\">{formErrors.motif_autre}</span>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Commentaires */}\r\n                  <div className=\"prise-rdv__form-group\">\r\n                    <label className=\"prise-rdv__label\">\r\n                      Commentaires supplémentaires\r\n                      <span className=\"prise-rdv__char-count\">\r\n                        {formData.commentaires.length}/1000\r\n                      </span>\r\n                    </label>\r\n                    <textarea \r\n                      name=\"commentaires\"\r\n                      value={formData.commentaires}\r\n                      onChange={handleInputChange}\r\n                      className={`prise-rdv__textarea ${formErrors.commentaires ? 'prise-rdv__textarea--error' : ''}`}\r\n                      placeholder=\"Ajoutez des informations complémentaires si nécessaire...\"\r\n                      rows={4}\r\n                      maxLength={1000}\r\n                    />\r\n                    {formErrors.commentaires && (\r\n                      <span className=\"prise-rdv__error\">{formErrors.commentaires}</span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Actions */}\r\n                  <div className=\"prise-rdv__form-actions\">\r\n                    <button \r\n                      type=\"submit\"\r\n                      disabled={submitting || !formData.date_demandee || !formData.heure_demandee || !formData.motif}\r\n                      className={`prise-rdv__submit-btn ${submitting ? 'prise-rdv__submit-btn--loading' : ''}`}\r\n                    >\r\n                      {submitting ? (\r\n                        <>\r\n                          <span className=\"prise-rdv__spinner\"></span>\r\n                          Soumission...\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <span className=\"prise-rdv__submit-icon\">📤</span>\r\n                          Soumettre la demande\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            )}\r\n\r\n            {/* Historique des demandes */}\r\n            {activeTab === 'historique' && (\r\n              <div className=\"prise-rdv__historique\">\r\n                \r\n                {/* Filtres */}\r\n                <div className=\"prise-rdv__filtres\">\r\n                  <div className=\"prise-rdv__filtre-group\">\r\n                    <label className=\"prise-rdv__filtre-label\">Statut:</label>\r\n                    <select \r\n                      value={filtres.statut}\r\n                      onChange={(e) => setFiltres(prev => ({ ...prev, statut: e.target.value }))}\r\n                      className=\"prise-rdv__filtre-select\"\r\n                    >\r\n                      <option value=\"\">Tous</option>\r\n                      {pageInfo?.statuts && Object.entries(pageInfo.statuts).map(([key, statut]) => (\r\n                        <option key={key} value={key}>{statut.nom}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"prise-rdv__filtre-group\">\r\n                    <label className=\"prise-rdv__filtre-label\">Motif:</label>\r\n                    <select \r\n                      value={filtres.motif}\r\n                      onChange={(e) => setFiltres(prev => ({ ...prev, motif: e.target.value }))}\r\n                      className=\"prise-rdv__filtre-select\"\r\n                    >\r\n                      <option value=\"\">Tous</option>\r\n                      {pageInfo?.motifs && Object.entries(pageInfo.motifs).map(([key, motif]) => (\r\n                        <option key={key} value={key}>{motif.nom}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <button \r\n                    onClick={() => chargerHistorique()}\r\n                    className=\"prise-rdv__refresh-btn\"\r\n                    disabled={loading}\r\n                  >\r\n                    🔄 Actualiser\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Liste */}\r\n                {loading ? (\r\n                  <div className=\"prise-rdv__loading\">\r\n                    <div className=\"prise-rdv__spinner\"></div>\r\n                    <p>Chargement de l'historique...</p>\r\n                  </div>\r\n                ) : historique.length === 0 ? (\r\n                  <div className=\"prise-rdv__empty\">\r\n                    <div className=\"prise-rdv__empty-icon\">📅</div>\r\n                    <h3>Aucune demande de rendez-vous</h3>\r\n                    <p>Vous n'avez pas encore fait de demande de rendez-vous</p>\r\n                    <button \r\n                      onClick={() => setActiveTab('nouveau')}\r\n                      className=\"prise-rdv__empty-btn\"\r\n                    >\r\n                      Faire une demande\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"prise-rdv__liste\">\r\n                    {historique.map(demande => (\r\n                      <div key={demande.id} className=\"prise-rdv__card\">\r\n                        \r\n                        {/* En-tête de carte */}\r\n                        <div className=\"prise-rdv__card-header\">\r\n                          <div className=\"prise-rdv__card-info\">\r\n                            <h3 className=\"prise-rdv__card-title\">\r\n                              {rendezVousService.utils.getIconeMotif(demande.motif)} {demande.motif_complet}\r\n                            </h3>\r\n                            <p className=\"prise-rdv__card-numero\">\r\n                              N° {demande.numero_demande}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"prise-rdv__card-badges\">\r\n                            <span \r\n                              className=\"prise-rdv__statut-badge\"\r\n                              style={{ backgroundColor: rendezVousService.utils.getCouleurStatut(demande.statut) }}\r\n                            >\r\n                              {demande.statut_info?.icon} {demande.statut_info?.nom}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Corps de carte */}\r\n                        <div className=\"prise-rdv__card-body\">\r\n                          <div className=\"prise-rdv__card-details\">\r\n                            <div className=\"prise-rdv__card-detail\">\r\n                              <span className=\"prise-rdv__detail-label\">Date demandée:</span>\r\n                              <span className=\"prise-rdv__detail-value\">{demande.date_heure_formatee}</span>\r\n                            </div>\r\n                            \r\n                            {demande.date_rdv_confirme && (\r\n                              <div className=\"prise-rdv__card-detail prise-rdv__card-detail--confirmed\">\r\n                                <span className=\"prise-rdv__detail-label\">✅ Date confirmée:</span>\r\n                                <span className=\"prise-rdv__detail-value\">{demande.date_rdv_confirme}</span>\r\n                              </div>\r\n                            )}\r\n                            \r\n                            {demande.lieu_rdv && (\r\n                              <div className=\"prise-rdv__card-detail\">\r\n                                <span className=\"prise-rdv__detail-label\">📍 Lieu:</span>\r\n                                <span className=\"prise-rdv__detail-value\">{demande.lieu_rdv}</span>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          \r\n                          {demande.commentaires && (\r\n                            <div className=\"prise-rdv__card-commentaires\">\r\n                              <strong>Commentaires:</strong>\r\n                              <p>{demande.commentaires.length > 100 \r\n                                ? `${demande.commentaires.substring(0, 100)}...`\r\n                                : demande.commentaires\r\n                              }</p>\r\n                            </div>\r\n                          )}\r\n\r\n                          {demande.reponse_admin && (\r\n                            <div className=\"prise-rdv__card-reponse\">\r\n                              <strong>💬 Réponse de l'administration:</strong>\r\n                              <p>{demande.reponse_admin}</p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Pied de carte */}\r\n                        <div className=\"prise-rdv__card-footer\">\r\n                          <div className=\"prise-rdv__card-meta\">\r\n                            <span className=\"prise-rdv__card-date\">\r\n                              Demandé le {demande.date_soumission}\r\n                            </span>\r\n                            <span className=\"prise-rdv__card-temps\">\r\n                              {demande.temps_ecoule}\r\n                            </span>\r\n                          </div>\r\n                          \r\n                          <div className=\"prise-rdv__card-actions\">\r\n                            {demande.peut_modifier && (\r\n                              <button \r\n                                onClick={() => confirmerAnnulation(demande)}\r\n                                className=\"prise-rdv__annuler-btn\"\r\n                                title=\"Annuler cette demande\"\r\n                              >\r\n                                🚫 Annuler\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n\r\n                    {/* Pagination */}\r\n                    {pagination.last_page > 1 && (\r\n                      <div className=\"prise-rdv__pagination\">\r\n                        {Array.from({ length: pagination.last_page }, (_, i) => (\r\n                          <button \r\n                            key={i + 1}\r\n                            onClick={() => chargerHistorique(i + 1)}\r\n                            className={`prise-rdv__page-btn ${\r\n                              pagination.current_page === i + 1 ? 'prise-rdv__page-btn--active' : ''\r\n                            }`}\r\n                          >\r\n                            {i + 1}\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Modal d'annulation */}\r\n          {showAnnulationModal && (\r\n            <div className=\"prise-rdv__modal-overlay\">\r\n              <div className=\"prise-rdv__modal\">\r\n                <div className=\"prise-rdv__modal-header\">\r\n                  <h3 className=\"prise-rdv__modal-title\">\r\n                    🚫 Confirmer l'annulation\r\n                  </h3>\r\n                  <button \r\n                    className=\"prise-rdv__modal-close\"\r\n                    onClick={() => setShowAnnulationModal(false)}\r\n                    disabled={annulationEnCours}\r\n                  >\r\n                    ✕\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"prise-rdv__modal-body\">\r\n                  <p className=\"prise-rdv__modal-warning\">\r\n                    Êtes-vous sûr de vouloir annuler votre demande de rendez-vous \r\n                    <strong> N° {demandeAAnnuler?.numero_demande}</strong> ?\r\n                  </p>\r\n                  \r\n                  <div className=\"prise-rdv__modal-info\">\r\n                    <p><strong>Motif :</strong> {demandeAAnnuler?.motif_complet}</p>\r\n                    <p><strong>Date demandée :</strong> {demandeAAnnuler?.date_heure_formatee}</p>\r\n                  </div>\r\n                  \r\n                  <div className=\"prise-rdv__form-group\">\r\n                    <label className=\"prise-rdv__label\">\r\n                      Motif d'annulation (optionnel)\r\n                    </label>\r\n                    <textarea \r\n                      value={motifAnnulation}\r\n                      onChange={(e) => setMotifAnnulation(e.target.value)}\r\n                      className=\"prise-rdv__textarea\"\r\n                      placeholder=\"Expliquez pourquoi vous annulez cette demande...\"\r\n                      rows={3}\r\n                      maxLength={500}\r\n                      disabled={annulationEnCours}\r\n                    />\r\n                    <div className=\"prise-rdv__char-count\">\r\n                      {motifAnnulation.length}/500\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"prise-rdv__modal-warning-text\">\r\n                    ⚠️ Cette action est irréversible. Une notification sera envoyée à l'administration.\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"prise-rdv__modal-actions\">\r\n                  <button \r\n                    className=\"prise-rdv__modal-btn prise-rdv__modal-btn--secondary\"\r\n                    onClick={() => setShowAnnulationModal(false)}\r\n                    disabled={annulationEnCours}\r\n                  >\r\n                    Annuler\r\n                  </button>\r\n                  <button \r\n                    className=\"prise-rdv__modal-btn prise-rdv__modal-btn--danger\"\r\n                    onClick={executerAnnulation}\r\n                    disabled={annulationEnCours}\r\n                  >\r\n                    {annulationEnCours ? (\r\n                      <>\r\n                        <span className=\"prise-rdv__spinner\"></span>\r\n                        Annulation...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        🚫 Confirmer l'annulation\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PriseRendezVous;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}