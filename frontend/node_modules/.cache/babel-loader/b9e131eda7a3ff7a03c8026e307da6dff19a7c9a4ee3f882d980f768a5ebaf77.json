{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import Header from'../../components/Header';import FirstLoginActifs from'../../components/FirstLoginActifs';import FirstLoginRetraites from'../../components/FirstLoginRetraites';import StandardLogin from'../../components/StandardLogin';import'./Login.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const{type}=useParams();// 'actifs' ou 'retraites'\nconst navigate=useNavigate();const[loginMode,setLoginMode]=useState('first');// 'first' ou 'standard'\nuseEffect(()=>{// Vérifier que le type est valide\nif(!['actifs','retraites'].includes(type)){navigate('/services');}},[type,navigate]);const handleModeSwitch=mode=>{setLoginMode(mode);};const renderLoginForm=()=>{if(loginMode==='first'){return type==='actifs'?/*#__PURE__*/_jsx(FirstLoginActifs,{onModeSwitch:handleModeSwitch}):/*#__PURE__*/_jsx(FirstLoginRetraites,{onModeSwitch:handleModeSwitch});}else{return/*#__PURE__*/_jsx(StandardLogin,{userType:type,onModeSwitch:handleModeSwitch});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"login-page__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-page__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-page__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-page__info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-page__info-content\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"login-page__title\",children:[\"Connexion \",type==='actifs'?'Agents Actifs':'Retraités']}),/*#__PURE__*/_jsx(\"p\",{className:\"login-page__description\",children:type==='actifs'?'Accédez à vos services en tant qu\\'agent de l\\'État en activité. Gérez vos cotisations, attestations et prestations familiales.':'Accédez à vos services en tant qu\\'ancien agent de l\\'État. Consultez vos pensions, certificats de vie et historique professionnel.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-page__features\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"login-page__features-title\",children:\"Services disponibles :\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"login-page__features-list\",children:type==='actifs'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Attestations de cotisations\"}),/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Prestations familiales\"}),/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Suivi des dossiers\"}),/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Mise \\xE0 jour profil\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Suivi des pensions\"}),/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Certificats de vie\"}),/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Historique carri\\xE8re\"}),/*#__PURE__*/_jsx(\"li\",{className:\"login-page__feature-item\",children:\"Documents retraite\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-page__help\",children:/*#__PURE__*/_jsx(\"p\",{className:\"login-page__help-text\",children:\"Besoin d'aide ? Contactez notre support technique.\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"login-page__form-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-page__form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-page__tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:`login-page__tab ${loginMode==='first'?'login-page__tab--active':''}`,onClick:()=>handleModeSwitch('first'),type:\"button\",children:\"Premi\\xE8re connexion\"}),/*#__PURE__*/_jsx(\"button\",{className:`login-page__tab ${loginMode==='standard'?'login-page__tab--active':''}`,onClick:()=>handleModeSwitch('standard'),type:\"button\",children:\"Connexion standard\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-page__form-wrapper\",children:renderLoginForm()})]})})]})})})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Header","FirstLoginActifs","FirstLoginRetraites","StandardLogin","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","type","navigate","loginMode","setLoginMode","includes","handleModeSwitch","mode","renderLoginForm","onModeSwitch","userType","className","children","onClick"],"sources":["C:/Users/invite/Documents/servicescppf/frontend/src/pages/login/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport Header from '../../components/Header';\r\nimport FirstLoginActifs from '../../components/FirstLoginActifs';\r\nimport FirstLoginRetraites from '../../components/FirstLoginRetraites';\r\nimport StandardLogin from '../../components/StandardLogin';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n  const { type } = useParams(); // 'actifs' ou 'retraites'\r\n  const navigate = useNavigate();\r\n  const [loginMode, setLoginMode] = useState('first'); // 'first' ou 'standard'\r\n\r\n  useEffect(() => {\r\n    // Vérifier que le type est valide\r\n    if (!['actifs', 'retraites'].includes(type)) {\r\n      navigate('/services');\r\n    }\r\n  }, [type, navigate]);\r\n\r\n  const handleModeSwitch = (mode) => {\r\n    setLoginMode(mode);\r\n  };\r\n\r\n  const renderLoginForm = () => {\r\n    if (loginMode === 'first') {\r\n      return type === 'actifs' ? \r\n        <FirstLoginActifs onModeSwitch={handleModeSwitch} /> : \r\n        <FirstLoginRetraites onModeSwitch={handleModeSwitch} />;\r\n    } else {\r\n      return <StandardLogin userType={type} onModeSwitch={handleModeSwitch} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <Header />\r\n      \r\n      <main className=\"login-page__main\">\r\n        <div className=\"login-page__container\">\r\n          <div className=\"login-page__content\">\r\n            \r\n            {/* Section gauche - Info */}\r\n            <div className=\"login-page__info\">\r\n              <div className=\"login-page__info-content\">\r\n                <h1 className=\"login-page__title\">\r\n                  Connexion {type === 'actifs' ? 'Agents Actifs' : 'Retraités'}\r\n                </h1>\r\n                \r\n                <p className=\"login-page__description\">\r\n                  {type === 'actifs' \r\n                    ? 'Accédez à vos services en tant qu\\'agent de l\\'État en activité. Gérez vos cotisations, attestations et prestations familiales.'\r\n                    : 'Accédez à vos services en tant qu\\'ancien agent de l\\'État. Consultez vos pensions, certificats de vie et historique professionnel.'\r\n                  }\r\n                </p>\r\n\r\n                <div className=\"login-page__features\">\r\n                  <h3 className=\"login-page__features-title\">Services disponibles :</h3>\r\n                  <ul className=\"login-page__features-list\">\r\n                    {type === 'actifs' ? (\r\n                      <>\r\n                        <li className=\"login-page__feature-item\">Attestations de cotisations</li>\r\n                        <li className=\"login-page__feature-item\">Prestations familiales</li>\r\n                        <li className=\"login-page__feature-item\">Suivi des dossiers</li>\r\n                        <li className=\"login-page__feature-item\">Mise à jour profil</li>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <li className=\"login-page__feature-item\">Suivi des pensions</li>\r\n                        <li className=\"login-page__feature-item\">Certificats de vie</li>\r\n                        <li className=\"login-page__feature-item\">Historique carrière</li>\r\n                        <li className=\"login-page__feature-item\">Documents retraite</li>\r\n                      </>\r\n                    )}\r\n                  </ul>\r\n                </div>\r\n\r\n                <div className=\"login-page__help\">\r\n                  <p className=\"login-page__help-text\">\r\n                    Besoin d'aide ? Contactez notre support technique.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Section droite - Formulaire */}\r\n            <div className=\"login-page__form-section\">\r\n              <div className=\"login-page__form-container\">\r\n                \r\n                {/* Tabs pour choisir le mode */}\r\n                <div className=\"login-page__tabs\">\r\n                  <button \r\n                    className={`login-page__tab ${loginMode === 'first' ? 'login-page__tab--active' : ''}`}\r\n                    onClick={() => handleModeSwitch('first')}\r\n                    type=\"button\"\r\n                  >\r\n                    Première connexion\r\n                  </button>\r\n                  <button \r\n                    className={`login-page__tab ${loginMode === 'standard' ? 'login-page__tab--active' : ''}`}\r\n                    onClick={() => handleModeSwitch('standard')}\r\n                    type=\"button\"\r\n                  >\r\n                    Connexion standard\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Formulaire dynamique */}\r\n                <div className=\"login-page__form-wrapper\">\r\n                  {renderLoginForm()}\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}