{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\invite\\\\Documents\\\\servicescppf\\\\frontend\\\\src\\\\pages\\\\dashboard\\\\edit_profile\\\\EditProfile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Header from '../../../components/Header';\nimport { utils } from '../../../services/api';\nimport './EditProfile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfile = ({\n  userType\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [userData, setUserData] = useState(null);\n  const [formData, setFormData] = useState({\n    email: '',\n    telephone: '',\n    current_password: '',\n    new_password: '',\n    new_password_confirmation: ''\n  });\n  const [activeTab, setActiveTab] = useState('info'); // 'info' ou 'password'\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({\n    type: '',\n    text: ''\n  });\n  const [notifications, setNotifications] = useState([]);\n\n  // √âtats pour la v√©rification t√©l√©phone\n  const [phoneVerificationStep, setPhoneVerificationStep] = useState(0); // 0: normal, 1: en attente code, 2: v√©rifi√©\n  const [verificationCode, setVerificationCode] = useState('');\n  const [originalPhone, setOriginalPhone] = useState('');\n\n  // Fonction helper pour les appels API\n  const makeApiCall = async (endpoint, options = {}) => {\n    const baseUrl = 'http://localhost:8000/api';\n    const url = `${baseUrl}${endpoint}`;\n    const defaultOptions = {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('auth_token')}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    const mergedOptions = {\n      ...defaultOptions,\n      ...options,\n      headers: {\n        ...defaultOptions.headers,\n        ...options.headers\n      }\n    };\n    return fetch(url, mergedOptions);\n  };\n\n  // Charger les donn√©es utilisateur\n  const fetchUserData = useCallback(async () => {\n    try {\n      console.log('üîÑ Tentative de chargement du profil...');\n\n      // ‚úÖ Utiliser la route commune /profile qui fonctionne\n      const response = await makeApiCall('/profile');\n      console.log('üì° R√©ponse re√ßue:', response.status);\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n      console.log('üìã Donn√©es re√ßues:', data);\n      if (data.success) {\n        setUserData(data.profile);\n        setFormData({\n          email: data.profile.email || '',\n          telephone: data.profile.telephone ? data.profile.telephone.replace('+241', '') : '',\n          current_password: '',\n          new_password: '',\n          new_password_confirmation: ''\n        });\n        setOriginalPhone(data.profile.telephone || '');\n\n        // V√©rifier si le t√©l√©phone n'est pas v√©rifi√©\n        if (data.profile.telephone && !data.profile.phone_verified) {\n          addNotification('warning', 'Votre num√©ro de t√©l√©phone n\\'est pas v√©rifi√©. Veuillez le v√©rifier pour s√©curiser votre compte.');\n        }\n      } else {\n        setMessage({\n          type: 'error',\n          text: data.message || 'Erreur lors du chargement des donn√©es'\n        });\n      }\n    } catch (error) {\n      console.error('‚ùå Erreur chargement profil:', error);\n      setMessage({\n        type: 'error',\n        text: `Erreur lors du chargement des donn√©es: ${error.message}`\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (!utils.isAuthenticated()) {\n      navigate('/services');\n      return;\n    }\n    fetchUserData();\n  }, [navigate, fetchUserData]);\n  const addNotification = (type, text) => {\n    const id = Date.now();\n    setNotifications(prev => [...prev, {\n      id,\n      type,\n      text\n    }]);\n  };\n  const removeNotification = id => {\n    setNotifications(prev => prev.filter(notif => notif.id !== id));\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    let formattedValue = value;\n\n    // Formatage du t√©l√©phone (sans +241)\n    if (name === 'telephone') {\n      formattedValue = value.replace(/[^0-9]/g, '').slice(0, 9);\n    }\n\n    // Formatage du code de v√©rification\n    if (name === 'verification_code') {\n      formattedValue = value.replace(/[^0-9]/g, '').slice(0, 6);\n    }\n    if (name === 'verification_code') {\n      setVerificationCode(formattedValue);\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: formattedValue\n      }));\n    }\n\n    // Effacer l'erreur pour ce champ\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Validation des informations de contact\n  const validateContactInfo = () => {\n    const newErrors = {};\n    if (!formData.email) {\n      newErrors.email = 'L\\'email est requis';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Format d\\'email invalide';\n    }\n    if (!formData.telephone) {\n      newErrors.telephone = 'Le num√©ro de t√©l√©phone est requis';\n    } else if (formData.telephone.length < 8 || formData.telephone.length > 9) {\n      newErrors.telephone = 'Le num√©ro doit contenir 8 ou 9 chiffres';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Validation du changement de mot de passe\n  const validatePassword = () => {\n    const newErrors = {};\n    if (!formData.current_password) {\n      newErrors.current_password = 'Le mot de passe actuel est requis';\n    }\n    if (!formData.new_password) {\n      newErrors.new_password = 'Le nouveau mot de passe est requis';\n    } else if (formData.new_password.length < 8) {\n      newErrors.new_password = 'Le mot de passe doit contenir au moins 8 caract√®res';\n    } else if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.new_password)) {\n      newErrors.new_password = 'Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre';\n    }\n    if (!formData.new_password_confirmation) {\n      newErrors.new_password_confirmation = 'La confirmation du mot de passe est requise';\n    } else if (formData.new_password !== formData.new_password_confirmation) {\n      newErrors.new_password_confirmation = 'Les mots de passe ne correspondent pas';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Mise √† jour des informations de contact\n  const handleContactInfoSubmit = async e => {\n    e.preventDefault();\n    if (!validateContactInfo()) return;\n    setLoading(true);\n    setMessage({\n      type: '',\n      text: ''\n    });\n    try {\n      const updateData = {\n        email: formData.email,\n        telephone: `+241${formData.telephone}`\n      };\n      const response = await makeApiCall('/profile', {\n        method: 'PUT',\n        body: JSON.stringify(updateData)\n      });\n      const data = await response.json();\n      if (data.success) {\n        setMessage({\n          type: 'success',\n          text: 'Informations mises √† jour avec succ√®s'\n        });\n\n        // Si le t√©l√©phone a chang√©, d√©clencher la v√©rification\n        const newPhone = `+241${formData.telephone}`;\n        if (newPhone !== originalPhone) {\n          setPhoneVerificationStep(1);\n          addNotification('warning', 'Votre num√©ro de t√©l√©phone a √©t√© modifi√©. Veuillez le v√©rifier avec le code SMS qui vous sera envoy√©.');\n          await sendVerificationCode();\n        }\n        await fetchUserData();\n      } else {\n        if (data.errors) {\n          setErrors(data.errors);\n        } else {\n          setMessage({\n            type: 'error',\n            text: data.message || 'Erreur lors de la mise √† jour'\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Erreur mise √† jour:', error);\n      setMessage({\n        type: 'error',\n        text: 'Erreur serveur lors de la mise √† jour'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Changement de mot de passe\n  const handlePasswordSubmit = async e => {\n    e.preventDefault();\n    if (!validatePassword()) return;\n    setLoading(true);\n    setMessage({\n      type: '',\n      text: ''\n    });\n    try {\n      const passwordData = {\n        current_password: formData.current_password,\n        new_password: formData.new_password,\n        new_password_confirmation: formData.new_password_confirmation\n      };\n      const response = await makeApiCall('/profile/password', {\n        method: 'PUT',\n        body: JSON.stringify(passwordData)\n      });\n      const data = await response.json();\n      if (data.success) {\n        setMessage({\n          type: 'success',\n          text: 'Mot de passe modifi√© avec succ√®s'\n        });\n        // R√©initialiser le formulaire de mot de passe\n        setFormData(prev => ({\n          ...prev,\n          current_password: '',\n          new_password: '',\n          new_password_confirmation: ''\n        }));\n      } else {\n        if (data.errors) {\n          setErrors(data.errors);\n        } else {\n          setMessage({\n            type: 'error',\n            text: data.message || 'Erreur lors du changement de mot de passe'\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Erreur changement mot de passe:', error);\n      setMessage({\n        type: 'error',\n        text: 'Erreur serveur lors du changement de mot de passe'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Envoyer le code de v√©rification SMS\n  const sendVerificationCode = async () => {\n    setLoading(true);\n    try {\n      const response = await makeApiCall('/profile/resend-verification', {\n        method: 'POST'\n      });\n      const data = await response.json();\n      if (data.success) {\n        setPhoneVerificationStep(1);\n        setMessage({\n          type: 'success',\n          text: 'Code de v√©rification envoy√© par SMS'\n        });\n      } else {\n        setMessage({\n          type: 'error',\n          text: data.message || 'Erreur lors de l\\'envoi du code'\n        });\n      }\n    } catch (error) {\n      console.error('Erreur envoi code:', error);\n      setMessage({\n        type: 'error',\n        text: 'Erreur lors de l\\'envoi du code SMS'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // V√©rifier le code SMS\n  const verifyPhoneCode = async () => {\n    if (verificationCode.length !== 6) {\n      setErrors({\n        verification_code: 'Le code doit contenir 6 chiffres'\n      });\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await makeApiCall('/profile/verify-phone', {\n        method: 'POST',\n        body: JSON.stringify({\n          verification_code: verificationCode\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setPhoneVerificationStep(2);\n        setMessage({\n          type: 'success',\n          text: 'Num√©ro de t√©l√©phone v√©rifi√© avec succ√®s'\n        });\n        setVerificationCode('');\n        // Enlever la notification de t√©l√©phone non v√©rifi√©\n        setNotifications(prev => prev.filter(notif => !notif.text.includes('t√©l√©phone n\\'est pas v√©rifi√©')));\n        await fetchUserData();\n      } else {\n        setErrors({\n          verification_code: data.message || 'Code de v√©rification invalide'\n        });\n      }\n    } catch (error) {\n      console.error('Erreur v√©rification:', error);\n      setErrors({\n        verification_code: 'Erreur lors de la v√©rification'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getPageTitle = () => {\n    if (!userType) return 'Mon Profil';\n    return userType === 'actif' ? 'Mon Profil - Agent Actif' : 'Mon Profil - Retrait√©';\n  };\n\n  // Affichage du loading\n  if (!userData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit-profile\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-profile__loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-profile__spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement de votre profil...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-profile\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"edit-profile__main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-profile__container\",\n        children: [notifications.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-profile__notifications\",\n          children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `edit-profile__notification edit-profile__notification--${notification.type}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-profile__notification-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"edit-profile__notification-icon\",\n                children: \"\\u26A0\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"edit-profile__notification-text\",\n                children: notification.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"edit-profile__notification-close\",\n              onClick: () => removeNotification(notification.id),\n              type: \"button\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this)]\n          }, notification.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-profile__content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-profile__header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-profile__user-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"edit-profile__title\",\n                children: getPageTitle()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-profile__user-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"edit-profile__user-name\",\n                  children: [userData.prenoms, \" \", userData.nom]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"edit-profile__user-role\",\n                  children: userType === 'actif' ? userData.poste : userData.ancien_poste\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-profile__verification-status\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `edit-profile__badge ${userData.phone_verified ? 'edit-profile__badge--success' : 'edit-profile__badge--warning'}`,\n                    children: [\"T\\xE9l\\xE9phone \", userData.phone_verified ? 'v√©rifi√©' : 'non v√©rifi√©']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"edit-profile__back-button\",\n              onClick: () => navigate('/dashboard'),\n              type: \"button\",\n              children: \"\\u2190 Retour au tableau de bord\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `edit-profile__message edit-profile__message--${message.type}`,\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-profile__tabs\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `edit-profile__tab ${activeTab === 'info' ? 'edit-profile__tab--active' : ''}`,\n              onClick: () => setActiveTab('info'),\n              type: \"button\",\n              children: \"Informations de contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `edit-profile__tab ${activeTab === 'password' ? 'edit-profile__tab--active' : ''}`,\n              onClick: () => setActiveTab('password'),\n              type: \"button\",\n              children: \"Changer le mot de passe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-profile__tab-content\",\n            children: [activeTab === 'info' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-profile__form-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleContactInfoSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-profile__form-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-profile__form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"email\",\n                      className: \"edit-profile__label\",\n                      children: \"Adresse email *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"email\",\n                      id: \"email\",\n                      name: \"email\",\n                      value: formData.email,\n                      onChange: handleInputChange,\n                      className: `edit-profile__input ${errors.email ? 'edit-profile__input--error' : ''}`,\n                      disabled: loading\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 25\n                    }, this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-profile__error\",\n                      children: errors.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-profile__form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"telephone\",\n                      className: \"edit-profile__label\",\n                      children: \"Num\\xE9ro de t\\xE9l\\xE9phone *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-profile__phone-input\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"edit-profile__phone-prefix\",\n                        children: \"+241\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"tel\",\n                        id: \"telephone\",\n                        name: \"telephone\",\n                        value: formData.telephone,\n                        onChange: handleInputChange,\n                        placeholder: \"01234567\",\n                        className: `edit-profile__input ${errors.telephone ? 'edit-profile__input--error' : ''}`,\n                        disabled: loading,\n                        maxLength: 9\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 481,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 25\n                    }, this), errors.telephone && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-profile__error\",\n                      children: errors.telephone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"edit-profile__button edit-profile__button--primary\",\n                  disabled: loading,\n                  children: loading ? 'Mise √† jour...' : 'Mettre √† jour les informations'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this), phoneVerificationStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-profile__verification-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"edit-profile__verification-title\",\n                  children: \"V\\xE9rification du num\\xE9ro de t\\xE9l\\xE9phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"edit-profile__verification-text\",\n                  children: [\"Un code de v\\xE9rification a \\xE9t\\xE9 envoy\\xE9 au num\\xE9ro +241\", formData.telephone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-profile__verification-form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"verification_code\",\n                    value: verificationCode,\n                    onChange: handleInputChange,\n                    placeholder: \"123456\",\n                    className: `edit-profile__input edit-profile__input--center ${errors.verification_code ? 'edit-profile__input--error' : ''}`,\n                    maxLength: 6,\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 25\n                  }, this), errors.verification_code && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-profile__error\",\n                    children: errors.verification_code\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-profile__verification-actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"edit-profile__button edit-profile__button--success\",\n                      onClick: verifyPhoneCode,\n                      disabled: loading || verificationCode.length !== 6,\n                      children: \"V\\xE9rifier le code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"edit-profile__button edit-profile__button--outline\",\n                      onClick: sendVerificationCode,\n                      disabled: loading,\n                      children: \"Renvoyer le code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 543,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this), activeTab === 'password' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-profile__form-section\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handlePasswordSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-profile__form-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-profile__form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"current_password\",\n                      className: \"edit-profile__label\",\n                      children: \"Mot de passe actuel *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      id: \"current_password\",\n                      name: \"current_password\",\n                      value: formData.current_password,\n                      onChange: handleInputChange,\n                      className: `edit-profile__input ${errors.current_password ? 'edit-profile__input--error' : ''}`,\n                      disabled: loading\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 570,\n                      columnNumber: 25\n                    }, this), errors.current_password && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-profile__error\",\n                      children: errors.current_password\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 580,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-profile__form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"new_password\",\n                      className: \"edit-profile__label\",\n                      children: \"Nouveau mot de passe *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 586,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      id: \"new_password\",\n                      name: \"new_password\",\n                      value: formData.new_password,\n                      onChange: handleInputChange,\n                      className: `edit-profile__input ${errors.new_password ? 'edit-profile__input--error' : ''}`,\n                      disabled: loading\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 589,\n                      columnNumber: 25\n                    }, this), errors.new_password && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-profile__error\",\n                      children: errors.new_password\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-profile__help\",\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: \"Au moins 8 caract\\xE8res avec majuscule, minuscule et chiffre\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 602,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-profile__form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"new_password_confirmation\",\n                      className: \"edit-profile__label\",\n                      children: \"Confirmer le nouveau mot de passe *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      id: \"new_password_confirmation\",\n                      name: \"new_password_confirmation\",\n                      value: formData.new_password_confirmation,\n                      onChange: handleInputChange,\n                      className: `edit-profile__input ${errors.new_password_confirmation ? 'edit-profile__input--error' : ''}`,\n                      disabled: loading\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 25\n                    }, this), errors.new_password_confirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"edit-profile__error\",\n                      children: errors.new_password_confirmation\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 621,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"edit-profile__button edit-profile__button--primary\",\n                  disabled: loading,\n                  children: loading ? 'Changement...' : 'Changer le mot de passe'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProfile, \"HequQwPBG7v6FbrnUUkv//2J3rk=\", false, function () {\n  return [useNavigate];\n});\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","Header","utils","jsxDEV","_jsxDEV","EditProfile","userType","_s","navigate","userData","setUserData","formData","setFormData","email","telephone","current_password","new_password","new_password_confirmation","activeTab","setActiveTab","errors","setErrors","loading","setLoading","message","setMessage","type","text","notifications","setNotifications","phoneVerificationStep","setPhoneVerificationStep","verificationCode","setVerificationCode","originalPhone","setOriginalPhone","makeApiCall","endpoint","options","baseUrl","url","defaultOptions","headers","localStorage","getItem","mergedOptions","fetch","fetchUserData","console","log","response","status","ok","Error","statusText","data","json","success","profile","replace","phone_verified","addNotification","error","isAuthenticated","id","Date","now","prev","removeNotification","filter","notif","handleInputChange","e","name","value","target","formattedValue","slice","validateContactInfo","newErrors","test","length","Object","keys","validatePassword","handleContactInfoSubmit","preventDefault","updateData","method","body","JSON","stringify","newPhone","sendVerificationCode","handlePasswordSubmit","passwordData","verifyPhoneCode","verification_code","includes","getPageTitle","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","notification","onClick","prenoms","nom","poste","ancien_poste","onSubmit","htmlFor","onChange","disabled","placeholder","maxLength","_c","$RefreshReg$"],"sources":["C:/Users/invite/Documents/servicescppf/frontend/src/pages/dashboard/edit_profile/EditProfile.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from '../../../components/Header';\r\nimport { utils } from '../../../services/api';\r\nimport './EditProfile.css';\r\n\r\nconst EditProfile = ({ userType }) => {\r\n  const navigate = useNavigate();\r\n  const [userData, setUserData] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    telephone: '',\r\n    current_password: '',\r\n    new_password: '',\r\n    new_password_confirmation: ''\r\n  });\r\n  \r\n  const [activeTab, setActiveTab] = useState('info'); // 'info' ou 'password'\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [notifications, setNotifications] = useState([]);\r\n  \r\n  // √âtats pour la v√©rification t√©l√©phone\r\n  const [phoneVerificationStep, setPhoneVerificationStep] = useState(0); // 0: normal, 1: en attente code, 2: v√©rifi√©\r\n  const [verificationCode, setVerificationCode] = useState('');\r\n  const [originalPhone, setOriginalPhone] = useState('');\r\n\r\n  // Fonction helper pour les appels API\r\n  const makeApiCall = async (endpoint, options = {}) => {\r\n    const baseUrl = 'http://localhost:8000/api';\r\n    const url = `${baseUrl}${endpoint}`;\r\n    \r\n    const defaultOptions = {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('auth_token')}`,\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json',\r\n      },\r\n    };\r\n    \r\n    const mergedOptions = {\r\n      ...defaultOptions,\r\n      ...options,\r\n      headers: {\r\n        ...defaultOptions.headers,\r\n        ...options.headers\r\n      }\r\n    };\r\n    \r\n    return fetch(url, mergedOptions);\r\n  };\r\n\r\n  // Charger les donn√©es utilisateur\r\n  const fetchUserData = useCallback(async () => {\r\n    try {\r\n      console.log('üîÑ Tentative de chargement du profil...');\r\n      \r\n      // ‚úÖ Utiliser la route commune /profile qui fonctionne\r\n      const response = await makeApiCall('/profile');\r\n      \r\n      console.log('üì° R√©ponse re√ßue:', response.status);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('üìã Donn√©es re√ßues:', data);\r\n      \r\n      if (data.success) {\r\n        setUserData(data.profile);\r\n        setFormData({\r\n          email: data.profile.email || '',\r\n          telephone: data.profile.telephone ? data.profile.telephone.replace('+241', '') : '',\r\n          current_password: '',\r\n          new_password: '',\r\n          new_password_confirmation: ''\r\n        });\r\n        setOriginalPhone(data.profile.telephone || '');\r\n        \r\n        // V√©rifier si le t√©l√©phone n'est pas v√©rifi√©\r\n        if (data.profile.telephone && !data.profile.phone_verified) {\r\n          addNotification('warning', 'Votre num√©ro de t√©l√©phone n\\'est pas v√©rifi√©. Veuillez le v√©rifier pour s√©curiser votre compte.');\r\n        }\r\n      } else {\r\n        setMessage({ type: 'error', text: data.message || 'Erreur lors du chargement des donn√©es' });\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Erreur chargement profil:', error);\r\n      setMessage({ type: 'error', text: `Erreur lors du chargement des donn√©es: ${error.message}` });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!utils.isAuthenticated()) {\r\n      navigate('/services');\r\n      return;\r\n    }\r\n    \r\n    fetchUserData();\r\n  }, [navigate, fetchUserData]);\r\n\r\n  const addNotification = (type, text) => {\r\n    const id = Date.now();\r\n    setNotifications(prev => [...prev, { id, type, text }]);\r\n  };\r\n\r\n  const removeNotification = (id) => {\r\n    setNotifications(prev => prev.filter(notif => notif.id !== id));\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    let formattedValue = value;\r\n    \r\n    // Formatage du t√©l√©phone (sans +241)\r\n    if (name === 'telephone') {\r\n      formattedValue = value.replace(/[^0-9]/g, '').slice(0, 9);\r\n    }\r\n    \r\n    // Formatage du code de v√©rification\r\n    if (name === 'verification_code') {\r\n      formattedValue = value.replace(/[^0-9]/g, '').slice(0, 6);\r\n    }\r\n\r\n    if (name === 'verification_code') {\r\n      setVerificationCode(formattedValue);\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: formattedValue\r\n      }));\r\n    }\r\n\r\n    // Effacer l'erreur pour ce champ\r\n    if (errors[name]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Validation des informations de contact\r\n  const validateContactInfo = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.email) {\r\n      newErrors.email = 'L\\'email est requis';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      newErrors.email = 'Format d\\'email invalide';\r\n    }\r\n\r\n    if (!formData.telephone) {\r\n      newErrors.telephone = 'Le num√©ro de t√©l√©phone est requis';\r\n    } else if (formData.telephone.length < 8 || formData.telephone.length > 9) {\r\n      newErrors.telephone = 'Le num√©ro doit contenir 8 ou 9 chiffres';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  // Validation du changement de mot de passe\r\n  const validatePassword = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.current_password) {\r\n      newErrors.current_password = 'Le mot de passe actuel est requis';\r\n    }\r\n\r\n    if (!formData.new_password) {\r\n      newErrors.new_password = 'Le nouveau mot de passe est requis';\r\n    } else if (formData.new_password.length < 8) {\r\n      newErrors.new_password = 'Le mot de passe doit contenir au moins 8 caract√®res';\r\n    } else if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.new_password)) {\r\n      newErrors.new_password = 'Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre';\r\n    }\r\n\r\n    if (!formData.new_password_confirmation) {\r\n      newErrors.new_password_confirmation = 'La confirmation du mot de passe est requise';\r\n    } else if (formData.new_password !== formData.new_password_confirmation) {\r\n      newErrors.new_password_confirmation = 'Les mots de passe ne correspondent pas';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  // Mise √† jour des informations de contact\r\n  const handleContactInfoSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateContactInfo()) return;\r\n\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    try {\r\n      const updateData = {\r\n        email: formData.email,\r\n        telephone: `+241${formData.telephone}`\r\n      };\r\n\r\n      const response = await makeApiCall('/profile', {\r\n        method: 'PUT',\r\n        body: JSON.stringify(updateData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setMessage({ type: 'success', text: 'Informations mises √† jour avec succ√®s' });\r\n        \r\n        // Si le t√©l√©phone a chang√©, d√©clencher la v√©rification\r\n        const newPhone = `+241${formData.telephone}`;\r\n        if (newPhone !== originalPhone) {\r\n          setPhoneVerificationStep(1);\r\n          addNotification('warning', 'Votre num√©ro de t√©l√©phone a √©t√© modifi√©. Veuillez le v√©rifier avec le code SMS qui vous sera envoy√©.');\r\n          await sendVerificationCode();\r\n        }\r\n        \r\n        await fetchUserData();\r\n      } else {\r\n        if (data.errors) {\r\n          setErrors(data.errors);\r\n        } else {\r\n          setMessage({ type: 'error', text: data.message || 'Erreur lors de la mise √† jour' });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur mise √† jour:', error);\r\n      setMessage({ type: 'error', text: 'Erreur serveur lors de la mise √† jour' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Changement de mot de passe\r\n  const handlePasswordSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validatePassword()) return;\r\n\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    try {\r\n      const passwordData = {\r\n        current_password: formData.current_password,\r\n        new_password: formData.new_password,\r\n        new_password_confirmation: formData.new_password_confirmation\r\n      };\r\n\r\n      const response = await makeApiCall('/profile/password', {\r\n        method: 'PUT',\r\n        body: JSON.stringify(passwordData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setMessage({ type: 'success', text: 'Mot de passe modifi√© avec succ√®s' });\r\n        // R√©initialiser le formulaire de mot de passe\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          current_password: '',\r\n          new_password: '',\r\n          new_password_confirmation: ''\r\n        }));\r\n      } else {\r\n        if (data.errors) {\r\n          setErrors(data.errors);\r\n        } else {\r\n          setMessage({ type: 'error', text: data.message || 'Erreur lors du changement de mot de passe' });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur changement mot de passe:', error);\r\n      setMessage({ type: 'error', text: 'Erreur serveur lors du changement de mot de passe' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Envoyer le code de v√©rification SMS\r\n  const sendVerificationCode = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await makeApiCall('/profile/resend-verification', {\r\n        method: 'POST'\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setPhoneVerificationStep(1);\r\n        setMessage({ type: 'success', text: 'Code de v√©rification envoy√© par SMS' });\r\n      } else {\r\n        setMessage({ type: 'error', text: data.message || 'Erreur lors de l\\'envoi du code' });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur envoi code:', error);\r\n      setMessage({ type: 'error', text: 'Erreur lors de l\\'envoi du code SMS' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // V√©rifier le code SMS\r\n  const verifyPhoneCode = async () => {\r\n    if (verificationCode.length !== 6) {\r\n      setErrors({ verification_code: 'Le code doit contenir 6 chiffres' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await makeApiCall('/profile/verify-phone', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ verification_code: verificationCode })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setPhoneVerificationStep(2);\r\n        setMessage({ type: 'success', text: 'Num√©ro de t√©l√©phone v√©rifi√© avec succ√®s' });\r\n        setVerificationCode('');\r\n        // Enlever la notification de t√©l√©phone non v√©rifi√©\r\n        setNotifications(prev => prev.filter(notif => !notif.text.includes('t√©l√©phone n\\'est pas v√©rifi√©')));\r\n        await fetchUserData();\r\n      } else {\r\n        setErrors({ verification_code: data.message || 'Code de v√©rification invalide' });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur v√©rification:', error);\r\n      setErrors({ verification_code: 'Erreur lors de la v√©rification' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getPageTitle = () => {\r\n    if (!userType) return 'Mon Profil';\r\n    return userType === 'actif' ? 'Mon Profil - Agent Actif' : 'Mon Profil - Retrait√©';\r\n  };\r\n\r\n  // Affichage du loading\r\n  if (!userData) {\r\n    return (\r\n      <div className=\"edit-profile\">\r\n        <Header />\r\n        <div className=\"edit-profile__loading\">\r\n          <div className=\"edit-profile__spinner\"></div>\r\n          <p>Chargement de votre profil...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"edit-profile\">\r\n      <Header />\r\n      \r\n      <main className=\"edit-profile__main\">\r\n        <div className=\"edit-profile__container\">\r\n          \r\n          {/* Notifications */}\r\n          {notifications.length > 0 && (\r\n            <div className=\"edit-profile__notifications\">\r\n              {notifications.map(notification => (\r\n                <div key={notification.id} className={`edit-profile__notification edit-profile__notification--${notification.type}`}>\r\n                  <div className=\"edit-profile__notification-content\">\r\n                    <span className=\"edit-profile__notification-icon\">‚ö†Ô∏è</span>\r\n                    <span className=\"edit-profile__notification-text\">{notification.text}</span>\r\n                  </div>\r\n                  <button \r\n                    className=\"edit-profile__notification-close\"\r\n                    onClick={() => removeNotification(notification.id)}\r\n                    type=\"button\"\r\n                  >\r\n                    ‚úï\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"edit-profile__content\">\r\n            {/* Header avec infos utilisateur */}\r\n            <div className=\"edit-profile__header\">\r\n              <div className=\"edit-profile__user-info\">\r\n                <h1 className=\"edit-profile__title\">{getPageTitle()}</h1>\r\n                <div className=\"edit-profile__user-details\">\r\n                  <p className=\"edit-profile__user-name\">\r\n                    {userData.prenoms} {userData.nom}\r\n                  </p>\r\n                  <p className=\"edit-profile__user-role\">\r\n                    {userType === 'actif' ? userData.poste : userData.ancien_poste}\r\n                  </p>\r\n                  <div className=\"edit-profile__verification-status\">\r\n                    <span className={`edit-profile__badge ${userData.phone_verified ? 'edit-profile__badge--success' : 'edit-profile__badge--warning'}`}>\r\n                      T√©l√©phone {userData.phone_verified ? 'v√©rifi√©' : 'non v√©rifi√©'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <button \r\n                className=\"edit-profile__back-button\"\r\n                onClick={() => navigate('/dashboard')}\r\n                type=\"button\"\r\n              >\r\n                ‚Üê Retour au tableau de bord\r\n              </button>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            {message.text && (\r\n              <div className={`edit-profile__message edit-profile__message--${message.type}`}>\r\n                {message.text}\r\n              </div>\r\n            )}\r\n\r\n            {/* Tabs */}\r\n            <div className=\"edit-profile__tabs\">\r\n              <button \r\n                className={`edit-profile__tab ${activeTab === 'info' ? 'edit-profile__tab--active' : ''}`}\r\n                onClick={() => setActiveTab('info')}\r\n                type=\"button\"\r\n              >\r\n                Informations de contact\r\n              </button>\r\n              <button \r\n                className={`edit-profile__tab ${activeTab === 'password' ? 'edit-profile__tab--active' : ''}`}\r\n                onClick={() => setActiveTab('password')}\r\n                type=\"button\"\r\n              >\r\n                Changer le mot de passe\r\n              </button>\r\n            </div>\r\n\r\n            {/* Contenu des tabs */}\r\n            <div className=\"edit-profile__tab-content\">\r\n              \r\n              {/* Tab Informations de contact */}\r\n              {activeTab === 'info' && (\r\n                <div className=\"edit-profile__form-section\">\r\n                  <form onSubmit={handleContactInfoSubmit}>\r\n                    <div className=\"edit-profile__form-grid\">\r\n                      \r\n                      {/* Email */}\r\n                      <div className=\"edit-profile__form-group\">\r\n                        <label htmlFor=\"email\" className=\"edit-profile__label\">\r\n                          Adresse email *\r\n                        </label>\r\n                        <input\r\n                          type=\"email\"\r\n                          id=\"email\"\r\n                          name=\"email\"\r\n                          value={formData.email}\r\n                          onChange={handleInputChange}\r\n                          className={`edit-profile__input ${errors.email ? 'edit-profile__input--error' : ''}`}\r\n                          disabled={loading}\r\n                        />\r\n                        {errors.email && (\r\n                          <div className=\"edit-profile__error\">{errors.email}</div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* T√©l√©phone */}\r\n                      <div className=\"edit-profile__form-group\">\r\n                        <label htmlFor=\"telephone\" className=\"edit-profile__label\">\r\n                          Num√©ro de t√©l√©phone *\r\n                        </label>\r\n                        <div className=\"edit-profile__phone-input\">\r\n                          <span className=\"edit-profile__phone-prefix\">+241</span>\r\n                          <input\r\n                            type=\"tel\"\r\n                            id=\"telephone\"\r\n                            name=\"telephone\"\r\n                            value={formData.telephone}\r\n                            onChange={handleInputChange}\r\n                            placeholder=\"01234567\"\r\n                            className={`edit-profile__input ${errors.telephone ? 'edit-profile__input--error' : ''}`}\r\n                            disabled={loading}\r\n                            maxLength={9}\r\n                          />\r\n                        </div>\r\n                        {errors.telephone && (\r\n                          <div className=\"edit-profile__error\">{errors.telephone}</div>\r\n                        )}\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                    <button \r\n                      type=\"submit\" \r\n                      className=\"edit-profile__button edit-profile__button--primary\"\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Mise √† jour...' : 'Mettre √† jour les informations'}\r\n                    </button>\r\n                  </form>\r\n\r\n                  {/* Section v√©rification t√©l√©phone */}\r\n                  {phoneVerificationStep === 1 && (\r\n                    <div className=\"edit-profile__verification-section\">\r\n                      <h3 className=\"edit-profile__verification-title\">\r\n                        V√©rification du num√©ro de t√©l√©phone\r\n                      </h3>\r\n                      <p className=\"edit-profile__verification-text\">\r\n                        Un code de v√©rification a √©t√© envoy√© au num√©ro +241{formData.telephone}\r\n                      </p>\r\n                      \r\n                      <div className=\"edit-profile__verification-form\">\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"verification_code\"\r\n                          value={verificationCode}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"123456\"\r\n                          className={`edit-profile__input edit-profile__input--center ${errors.verification_code ? 'edit-profile__input--error' : ''}`}\r\n                          maxLength={6}\r\n                          disabled={loading}\r\n                        />\r\n                        {errors.verification_code && (\r\n                          <div className=\"edit-profile__error\">{errors.verification_code}</div>\r\n                        )}\r\n                        \r\n                        <div className=\"edit-profile__verification-actions\">\r\n                          <button \r\n                            type=\"button\"\r\n                            className=\"edit-profile__button edit-profile__button--success\"\r\n                            onClick={verifyPhoneCode}\r\n                            disabled={loading || verificationCode.length !== 6}\r\n                          >\r\n                            V√©rifier le code\r\n                          </button>\r\n                          <button \r\n                            type=\"button\"\r\n                            className=\"edit-profile__button edit-profile__button--outline\"\r\n                            onClick={sendVerificationCode}\r\n                            disabled={loading}\r\n                          >\r\n                            Renvoyer le code\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                </div>\r\n              )}\r\n\r\n              {/* Tab Changement de mot de passe */}\r\n              {activeTab === 'password' && (\r\n                <div className=\"edit-profile__form-section\">\r\n                  <form onSubmit={handlePasswordSubmit}>\r\n                    <div className=\"edit-profile__form-grid\">\r\n                      \r\n                      {/* Mot de passe actuel */}\r\n                      <div className=\"edit-profile__form-group\">\r\n                        <label htmlFor=\"current_password\" className=\"edit-profile__label\">\r\n                          Mot de passe actuel *\r\n                        </label>\r\n                        <input\r\n                          type=\"password\"\r\n                          id=\"current_password\"\r\n                          name=\"current_password\"\r\n                          value={formData.current_password}\r\n                          onChange={handleInputChange}\r\n                          className={`edit-profile__input ${errors.current_password ? 'edit-profile__input--error' : ''}`}\r\n                          disabled={loading}\r\n                        />\r\n                        {errors.current_password && (\r\n                          <div className=\"edit-profile__error\">{errors.current_password}</div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Nouveau mot de passe */}\r\n                      <div className=\"edit-profile__form-group\">\r\n                        <label htmlFor=\"new_password\" className=\"edit-profile__label\">\r\n                          Nouveau mot de passe *\r\n                        </label>\r\n                        <input\r\n                          type=\"password\"\r\n                          id=\"new_password\"\r\n                          name=\"new_password\"\r\n                          value={formData.new_password}\r\n                          onChange={handleInputChange}\r\n                          className={`edit-profile__input ${errors.new_password ? 'edit-profile__input--error' : ''}`}\r\n                          disabled={loading}\r\n                        />\r\n                        {errors.new_password && (\r\n                          <div className=\"edit-profile__error\">{errors.new_password}</div>\r\n                        )}\r\n                        <div className=\"edit-profile__help\">\r\n                          <small>Au moins 8 caract√®res avec majuscule, minuscule et chiffre</small>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Confirmation nouveau mot de passe */}\r\n                      <div className=\"edit-profile__form-group\">\r\n                        <label htmlFor=\"new_password_confirmation\" className=\"edit-profile__label\">\r\n                          Confirmer le nouveau mot de passe *\r\n                        </label>\r\n                        <input\r\n                          type=\"password\"\r\n                          id=\"new_password_confirmation\"\r\n                          name=\"new_password_confirmation\"\r\n                          value={formData.new_password_confirmation}\r\n                          onChange={handleInputChange}\r\n                          className={`edit-profile__input ${errors.new_password_confirmation ? 'edit-profile__input--error' : ''}`}\r\n                          disabled={loading}\r\n                        />\r\n                        {errors.new_password_confirmation && (\r\n                          <div className=\"edit-profile__error\">{errors.new_password_confirmation}</div>\r\n                        )}\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                    <button \r\n                      type=\"submit\" \r\n                      className=\"edit-profile__button edit-profile__button--primary\"\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Changement...' : 'Changer le mot de passe'}\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              )}\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}